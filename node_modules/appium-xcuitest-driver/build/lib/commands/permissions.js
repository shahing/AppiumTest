"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.helpers = exports.commands = void 0;

require("source-map-support/register");

let commands = {},
    helpers = {},
    extensions = {};
exports.helpers = helpers;
exports.commands = commands;

function assertIsSimulator(driver) {
  if (!driver.isSimulator()) {
    throw new Error('Permissions setting can only be performed on Simulator');
  }
}

function assertPermissionOptions(opts = {}) {
  if (!opts.service) {
    throw new Error('Service name is mandatory to set');
  }

  if (!opts.bundleId) {
    throw new Error('Bundle identifier name is mandatory to set');
  }

  return opts;
}

commands.mobileGetPermission = async function (opts = {}) {
  const {
    service,
    bundleId
  } = assertPermissionOptions(opts);
  assertIsSimulator(this);
  return await this.opts.device.getPermission(bundleId, service);
};

Object.assign(extensions, commands, helpers);
var _default = extensions;
exports.default = _default;require('source-map-support').install();


//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpYi9jb21tYW5kcy9wZXJtaXNzaW9ucy5qcyJdLCJuYW1lcyI6WyJjb21tYW5kcyIsImhlbHBlcnMiLCJleHRlbnNpb25zIiwiYXNzZXJ0SXNTaW11bGF0b3IiLCJkcml2ZXIiLCJpc1NpbXVsYXRvciIsIkVycm9yIiwiYXNzZXJ0UGVybWlzc2lvbk9wdGlvbnMiLCJvcHRzIiwic2VydmljZSIsImJ1bmRsZUlkIiwibW9iaWxlR2V0UGVybWlzc2lvbiIsImRldmljZSIsImdldFBlcm1pc3Npb24iLCJPYmplY3QiLCJhc3NpZ24iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBLElBQUlBLFFBQVEsR0FBRyxFQUFmO0FBQUEsSUFBbUJDLE9BQU8sR0FBRyxFQUE3QjtBQUFBLElBQWlDQyxVQUFVLEdBQUcsRUFBOUM7Ozs7QUFFQSxTQUFTQyxpQkFBVCxDQUE0QkMsTUFBNUIsRUFBb0M7QUFDbEMsTUFBSSxDQUFDQSxNQUFNLENBQUNDLFdBQVAsRUFBTCxFQUEyQjtBQUN6QixVQUFNLElBQUlDLEtBQUosQ0FBVSx3REFBVixDQUFOO0FBQ0Q7QUFDRjs7QUFFRCxTQUFTQyx1QkFBVCxDQUFrQ0MsSUFBSSxHQUFHLEVBQXpDLEVBQTZDO0FBQzNDLE1BQUksQ0FBQ0EsSUFBSSxDQUFDQyxPQUFWLEVBQW1CO0FBQ2pCLFVBQU0sSUFBSUgsS0FBSixDQUFVLGtDQUFWLENBQU47QUFDRDs7QUFDRCxNQUFJLENBQUNFLElBQUksQ0FBQ0UsUUFBVixFQUFvQjtBQUNsQixVQUFNLElBQUlKLEtBQUosQ0FBVSw0Q0FBVixDQUFOO0FBQ0Q7O0FBQ0QsU0FBT0UsSUFBUDtBQUNEOztBQTRCRFIsUUFBUSxDQUFDVyxtQkFBVCxHQUErQixnQkFBZ0JILElBQUksR0FBRyxFQUF2QixFQUEyQjtBQUN4RCxRQUFNO0FBQ0pDLElBQUFBLE9BREk7QUFFSkMsSUFBQUE7QUFGSSxNQUdGSCx1QkFBdUIsQ0FBQ0MsSUFBRCxDQUgzQjtBQUtBTCxFQUFBQSxpQkFBaUIsQ0FBQyxJQUFELENBQWpCO0FBRUEsU0FBTyxNQUFNLEtBQUtLLElBQUwsQ0FBVUksTUFBVixDQUFpQkMsYUFBakIsQ0FBK0JILFFBQS9CLEVBQXlDRCxPQUF6QyxDQUFiO0FBQ0QsQ0FURDs7QUFXQUssTUFBTSxDQUFDQyxNQUFQLENBQWNiLFVBQWQsRUFBMEJGLFFBQTFCLEVBQW9DQyxPQUFwQztlQUVlQyxVIiwic291cmNlc0NvbnRlbnQiOlsibGV0IGNvbW1hbmRzID0ge30sIGhlbHBlcnMgPSB7fSwgZXh0ZW5zaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBhc3NlcnRJc1NpbXVsYXRvciAoZHJpdmVyKSB7XG4gIGlmICghZHJpdmVyLmlzU2ltdWxhdG9yKCkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1Blcm1pc3Npb25zIHNldHRpbmcgY2FuIG9ubHkgYmUgcGVyZm9ybWVkIG9uIFNpbXVsYXRvcicpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGFzc2VydFBlcm1pc3Npb25PcHRpb25zIChvcHRzID0ge30pIHtcbiAgaWYgKCFvcHRzLnNlcnZpY2UpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1NlcnZpY2UgbmFtZSBpcyBtYW5kYXRvcnkgdG8gc2V0Jyk7XG4gIH1cbiAgaWYgKCFvcHRzLmJ1bmRsZUlkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdCdW5kbGUgaWRlbnRpZmllciBuYW1lIGlzIG1hbmRhdG9yeSB0byBzZXQnKTtcbiAgfVxuICByZXR1cm4gb3B0cztcbn1cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBHZXRQZXJtaXNzaW9uT3B0aW9uc1xuICpcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBzZXJ2aWNlIC0gT25lIG9mIGF2YWlsYWJsZSBzZXJ2aWNlIG5hbWVzLiBUaGUgZm9sbG93aW5nIHNlcnZpY2VzIGFyZSBzdXBwb3J0ZWQ6XG4gKiBjYWxlbmRhcixcbiAqIGNhbWVyYSxcbiAqIGNvbnRhY3RzLFxuICogaG9tZWtpdCxcbiAqIG1pY3JvcGhvbmUsXG4gKiBwaG90b3MsXG4gKiByZW1pbmRlcnMsXG4gKiBtZWRpYWxpYnJhcnksXG4gKiBtb3Rpb24sXG4gKiBoZWFsdGg6LFxuICogc2lyaSxcbiAqIHNwZWVjaC5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBidW5kbGVJZCAtIFRoZSBidW5kbGUgaWRlbnRpZmllciBvZiB0aGUgZGVzdGluYXRpb24gYXBwLlxuICovXG5cbi8qKlxuICogR2V0cyBhcHBsaWNhdGlvbiBwZXJtaXNzaW9uIHN0YXRlIG9uIFNpbXVsYXRvci5cbiAqXG4gKiBAcGFyYW0ge0dldFBlcm1pc3Npb25PcHRpb25zfSBvcHRzIC0gUGVybWlzc2lvbiBvcHRpb25zLlxuICogQHJldHVybnMge3N0cmluZ30gRWl0aGVyICd5ZXMnLCAnbm8nIG9yICd1bnNldCdcbiAqIEB0aHJvd3Mge0Vycm9yfSBJZiBwZXJtaXNzaW9uIGdldHRpbmcgZmFpbHMgb3IgdGhlIGRldmljZSBpcyBub3QgYSBTaW11bGF0b3IuXG4gKi9cbmNvbW1hbmRzLm1vYmlsZUdldFBlcm1pc3Npb24gPSBhc3luYyBmdW5jdGlvbiAob3B0cyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICBzZXJ2aWNlLFxuICAgIGJ1bmRsZUlkLFxuICB9ID0gYXNzZXJ0UGVybWlzc2lvbk9wdGlvbnMob3B0cyk7XG5cbiAgYXNzZXJ0SXNTaW11bGF0b3IodGhpcyk7XG5cbiAgcmV0dXJuIGF3YWl0IHRoaXMub3B0cy5kZXZpY2UuZ2V0UGVybWlzc2lvbihidW5kbGVJZCwgc2VydmljZSk7XG59O1xuXG5PYmplY3QuYXNzaWduKGV4dGVuc2lvbnMsIGNvbW1hbmRzLCBoZWxwZXJzKTtcbmV4cG9ydCB7IGNvbW1hbmRzLCBoZWxwZXJzIH07XG5leHBvcnQgZGVmYXVsdCBleHRlbnNpb25zO1xuIl0sImZpbGUiOiJsaWIvY29tbWFuZHMvcGVybWlzc2lvbnMuanMiLCJzb3VyY2VSb290IjoiLi4vLi4vLi4ifQ==
