"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.installApp = installApp;
exports.removeApp = removeApp;
exports.launch = launch;
exports.spawn = spawn;
exports.spawnSubProcess = spawnSubProcess;
exports.openUrl = openUrl;
exports.terminate = terminate;
exports.shutdown = shutdown;
exports.createDevice = createDevice;
exports.getAppContainer = getAppContainer;
exports.getScreenshot = getScreenshot;
exports.deleteDevice = deleteDevice;
exports.eraseDevice = eraseDevice;
exports.getDevices = getDevices;
exports.getRuntimeForPlatformVersion = getRuntimeForPlatformVersion;
exports.bootDevice = bootDevice;
exports.setPasteboard = setPasteboard;
exports.getPasteboard = getPasteboard;
exports.addMedia = addMedia;
exports.appInfo = appInfo;
exports.getDeviceTypes = getDeviceTypes;
exports.startBootMonitor = startBootMonitor;

var _objectSpread2 = _interopRequireDefault(require("@babel/runtime/helpers/objectSpread"));

require("source-map-support/register");

var _teen_process = require("teen_process");

var _asyncbox = require("asyncbox");

var _appiumSupport = require("appium-support");

var _lodash = _interopRequireDefault(require("lodash"));

const log = _appiumSupport.logger.getLogger('simctl');

const IOS_PLATFORM = 'iOS';

async function simCommand(command, timeout, args = [], env = {}, executingFunction = _teen_process.exec, logErrors = true) {
  args = ['simctl', command, ...args];
  env = _lodash.default.defaults(_lodash.default.mapKeys(env, (value, key) => {
    return `SIMCTL_CHILD_${key}`;
  }), process.env);

  try {
    return await executingFunction('xcrun', args, {
      timeout,
      env
    });
  } catch (e) {
    if (!logErrors) {
      throw e;
    } else if (e.stderr) {
      log.errorAndThrow(`simctl error running '${command}': ${e.stderr.trim()}`);
    } else {
      log.errorAndThrow(e);
    }
  }
}

async function simExec(command, timeout, args = [], env = {}, logErrors = true) {
  return await simCommand(command, timeout, args, env, async (c, a, ob) => {
    return await (0, _teen_process.exec)(c, a, ob);
  }, logErrors);
}

async function simSubProcess(command, timeout, args = [], env = {}) {
  return await simCommand(command, timeout, args, env, (c, a, ob) => {
    return new _teen_process.SubProcess(c, a, ob);
  });
}

async function installApp(udid, appPath) {
  await simExec('install', 0, [udid, appPath]);
}

async function bootDevice(udid) {
  try {
    await simExec('boot', 0, [udid]);
  } catch (err) {
    if ((err.message || '').indexOf('Unable to boot device in current state: Booted') === -1) {
      throw err;
    }

    log.debug(`Simulator already in 'Booted' state. Continuing`);
  }
}

async function removeApp(udid, bundleId) {
  await simExec('uninstall', 0, [udid, bundleId]);
}

async function launch(udid, bundleId, tries = 5) {
  await (0, _asyncbox.retryInterval)(tries, 1000, async () => {
    await simExec('launch', 0, [udid, bundleId]);
  });
}

async function spawn(udid, args, env = {}) {
  return await simExec('spawn', 0, [udid, ...(_lodash.default.isArray(args) ? args : [args])], env);
}

async function spawnSubProcess(udid, args, env = {}) {
  return await simSubProcess('spawn', 0, [udid, ...(_lodash.default.isArray(args) ? args : [args])], env);
}

async function openUrl(udid, url) {
  return await simExec('openurl', 0, [udid, url]);
}

async function appInfo(udid, bundleId) {
  const {
    stdout
  } = await simExec('appinfo', 0, [udid, bundleId]);
  return (stdout || '').trim();
}

async function addMedia(udid, path) {
  return await simExec('addmedia', 0, [udid, path]);
}

async function terminate(udid, bundleId) {
  await simExec('terminate', 0, [udid, bundleId]);
}

async function getAppContainer(udid, bundleId, logErrors = true, containerType = null) {
  const args = [udid, bundleId];

  if (containerType) {
    args.push(containerType);
  }

  const {
    stdout
  } = await simExec('get_app_container', 0, args, {}, logErrors);
  return (stdout || '').trim();
}

async function shutdown(udid) {
  try {
    await simExec('shutdown', 0, [udid]);
  } catch (err) {
    if (!(err + '').includes('current state: Shutdown')) {
      throw err;
    }

    log.debug(`Simulator already in 'Shutdown' state. Continuing`);
  }
}

async function createDevice(name, deviceTypeId, runtimeId, timeout = 10000) {
  let udid;

  try {
    runtimeId = await getRuntimeForPlatformVersion(runtimeId);
  } catch (err) {
    log.warn(`Unable to find runtime for iOS '${runtimeId}'. Continuing`);
  }

  log.debug(`Creating simulator with name '${name}', device type id '${deviceTypeId}' and runtime id '${runtimeId}'`);

  try {
    let out = await simExec('create', 0, [name, deviceTypeId, runtimeId]);
    udid = out.stdout.trim();
  } catch (err) {
    let reason = err.message;

    if (err.stderr) {
      reason = err.stderr.trim();
    }

    log.errorAndThrow(`Could not create simulator with name '${name}', device ` + `type id '${deviceTypeId}' and runtime id '${runtimeId}'. Reason: '${reason}'`);
  }

  let retries = parseInt(timeout / 1000, 10);
  await (0, _asyncbox.retryInterval)(retries, 1000, async () => {
    let devices = await getDevices();

    for (let deviceArr of _lodash.default.values(devices)) {
      for (let device of deviceArr) {
        if (device.udid === udid) {
          if (device.state === 'Creating') {
            throw new Error('Device still being created');
          } else {
            return;
          }
        }
      }
    }
  });
  return udid;
}

async function deleteDevice(udid) {
  await simExec('delete', 0, [udid]);
}

async function eraseDevice(udid, timeout = 1000) {
  let loopFn = async () => {
    await simExec('erase', 10000, [udid]);
  };

  let retries = parseInt(timeout / 200, 10);
  await (0, _asyncbox.retryInterval)(retries, 200, loopFn);
}

async function getDevicesByParsing(platform = IOS_PLATFORM) {
  const {
    stdout
  } = await simExec('list', 0, ['devices']);
  const deviceSectionRe = new RegExp(`\\-\\-\\s+${_lodash.default.escapeRegExp(platform)}\\s+(\\S+)\\s+\\-\\-(\\n\\s{4}.+)*`, 'mgi');
  const matches = [];
  let match;

  while (match = deviceSectionRe.exec(stdout)) {
    matches.push(match);
  }

  if (_lodash.default.isEmpty(matches)) {
    throw new Error('Could not find device section');
  }

  const lineRe = /([^\s].+) \((\w+-.+\w+)\) \((\w+\s?\w+)\)/;
  const devices = {};

  for (match of matches) {
    const sdk = match[1];
    devices[sdk] = [];

    for (const line of match[0].split('\n').slice(1)) {
      const lineMatch = lineRe.exec(line);

      if (!lineMatch) {
        throw new Error(`Could not match line: ${line}`);
      }

      devices[sdk].push({
        name: lineMatch[1],
        udid: lineMatch[2],
        state: lineMatch[3],
        sdk
      });
    }
  }

  return devices;
}

async function getDevices(forSdk = null, platform = IOS_PLATFORM) {
  let devices = {};

  try {
    const {
      stdout
    } = await simExec('list', 0, ['devices', '-j']);
    const versionMatchRe = new RegExp(`^${_lodash.default.escapeRegExp(platform)}\\s+(\\S+)`, 'i');

    for (const [sdkName, entries] of _lodash.default.toPairs(JSON.parse(stdout).devices)) {
      const versionMatch = versionMatchRe.match(sdkName);

      if (!versionMatch) {
        continue;
      }

      devices[versionMatch[1]] = entries.map(el => {
        delete el.availability;
        return (0, _objectSpread2.default)({}, el, {
          sdk: versionMatch[1]
        });
      });
    }
  } catch (err) {
    log.debug(`Unable to get JSON device list: ${err.message}`);
    log.debug('Falling back to manual parsing');
    devices = await getDevicesByParsing(platform);
  }

  if (!forSdk) {
    return devices;
  }

  if (devices[forSdk]) {
    return devices[forSdk];
  }

  let errMsg = `'${forSdk}' does not exist in the list of simctl SDKs.`;

  const availableSDKs = _lodash.default.keys(devices);

  errMsg += availableSDKs.length ? ` Only the following Simulator SDK versions are available on your system: ${availableSDKs.join(', ')}` : ` No Simulator SDK versions are available on your system. Please install some via Xcode preferences.`;
  throw new Error(errMsg);
}

async function getRuntimeForPlatformVersion(platformVersion, platform = 'iOS') {
  try {
    const {
      stdout
    } = await simExec('list', 0, ['runtimes']);
    const runtimeRe = new RegExp(`${_lodash.default.escapeRegExp(platform)}\\s+(\\d+\\.\\d+)\\s+\\((\\d+\\.\\d+\\.*\\d*)`, 'i');

    for (const line of stdout.split('\n')) {
      const match = runtimeRe.exec(line);

      if (match && match[1] === platformVersion) {
        return match[2];
      }
    }
  } catch (ign) {}

  return platformVersion;
}

async function getScreenshot(udid) {
  let pathToScreenshotPng = await _appiumSupport.tempDir.path({
    prefix: `screenshot-${udid}`,
    suffix: '.png'
  });
  await simExec('io', 0, [udid, 'screenshot', pathToScreenshotPng]);
  let screenshotImg = await _appiumSupport.fs.readFile(pathToScreenshotPng);
  await _appiumSupport.fs.rimraf(pathToScreenshotPng);
  return screenshotImg.toString('base64');
}

async function setPasteboard(udid, content, encoding = 'utf-8') {
  const pbCopySubprocess = new _teen_process.SubProcess('xcrun', ['simctl', 'pbcopy', udid]);
  await pbCopySubprocess.start(0);
  const exitCodeVerifier = pbCopySubprocess.join();
  const stdin = pbCopySubprocess.proc.stdin;
  stdin.setEncoding(encoding);
  stdin.write(content);
  stdin.end();
  await exitCodeVerifier;
}

async function getPasteboard(udid, encoding = 'utf-8') {
  const args = ['simctl', 'pbpaste', udid];

  try {
    const {
      stdout
    } = await (0, _teen_process.exec)('xcrun', args, {
      timeout: 0,
      encoding
    });
    return stdout;
  } catch (e) {
    if (e.stderr) {
      log.errorAndThrow(`Error running 'xcrun ${args.join(' ')}': ${e.stderr.trim()}`);
    } else {
      log.errorAndThrow(e);
    }
  }
}

async function getDeviceTypes() {
  try {
    const {
      stdout
    } = await simExec('list', 0, ['devicetypes', '-j']);
    const deviceTypes = JSON.parse(stdout.trim());
    return deviceTypes.devicetypes.map(type => type.name);
  } catch (err) {
    let msg = `Unable to get list of device types: ${err.message}`;

    if (err.stderr) {
      msg = `${msg}. Stderr: ${err.stderr}`;
    }

    throw new Error(msg);
  }
}

async function startBootMonitor(udid, opts = {}) {
  const {
    timeout = 240000,
    onWaitingDataMigration,
    onWaitingSystemApp,
    onFinished,
    onError
  } = opts;
  let status = '';
  let isBootingFinished = false;
  let error = null;
  let timeoutHandler = null;
  const bootMonitor = await simSubProcess('bootstatus', 0, [udid]);
  bootMonitor.on('output', (stdout, stderr) => {
    status += stdout || stderr;

    if (stdout) {
      if (stdout.includes('Waiting on Data Migration') && onWaitingDataMigration) {
        onWaitingDataMigration();
      } else if (stdout.includes('Waiting on System App') && onWaitingSystemApp) {
        onWaitingSystemApp();
      }
    }
  });
  bootMonitor.on('exit', (code, signal) => {
    if (timeoutHandler) {
      clearTimeout(timeoutHandler);
    }

    if (code === 0) {
      if (onFinished) {
        onFinished();
      }

      isBootingFinished = true;
    } else {
      status = status || signal;
      error = new Error(status);

      if (onError) {
        onError(error);
      }
    }
  });
  await bootMonitor.start(0);

  const stopMonitor = async () => {
    if (bootMonitor.isRunning) {
      try {
        await bootMonitor.stop();
      } catch (e) {
        log.warn(e.message);
      }
    }
  };

  const timeStarted = process.hrtime();

  if (onFinished) {
    timeoutHandler = setTimeout(stopMonitor, timeout);
  } else {
    try {
      await (0, _asyncbox.waitForCondition)(() => {
        if (error) {
          throw error;
        }

        return isBootingFinished;
      }, {
        waitMs: timeout,
        intervalMs: 500
      });
    } catch (err) {
      await stopMonitor();
      throw new Error(`The simulator ${udid} has failed to finish booting after ${process.hrtime(timeStarted)[0]}s. ` + `Original status: ${status}`);
    }
  }

  return bootMonitor;
}require('source-map-support').install();


//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpYi9zaW1jdGwuanMiXSwibmFtZXMiOlsibG9nIiwibG9nZ2VyIiwiZ2V0TG9nZ2VyIiwiSU9TX1BMQVRGT1JNIiwic2ltQ29tbWFuZCIsImNvbW1hbmQiLCJ0aW1lb3V0IiwiYXJncyIsImVudiIsImV4ZWN1dGluZ0Z1bmN0aW9uIiwiZXhlYyIsImxvZ0Vycm9ycyIsIl8iLCJkZWZhdWx0cyIsIm1hcEtleXMiLCJ2YWx1ZSIsImtleSIsInByb2Nlc3MiLCJlIiwic3RkZXJyIiwiZXJyb3JBbmRUaHJvdyIsInRyaW0iLCJzaW1FeGVjIiwiYyIsImEiLCJvYiIsInNpbVN1YlByb2Nlc3MiLCJTdWJQcm9jZXNzIiwiaW5zdGFsbEFwcCIsInVkaWQiLCJhcHBQYXRoIiwiYm9vdERldmljZSIsImVyciIsIm1lc3NhZ2UiLCJpbmRleE9mIiwiZGVidWciLCJyZW1vdmVBcHAiLCJidW5kbGVJZCIsImxhdW5jaCIsInRyaWVzIiwic3Bhd24iLCJpc0FycmF5Iiwic3Bhd25TdWJQcm9jZXNzIiwib3BlblVybCIsInVybCIsImFwcEluZm8iLCJzdGRvdXQiLCJhZGRNZWRpYSIsInBhdGgiLCJ0ZXJtaW5hdGUiLCJnZXRBcHBDb250YWluZXIiLCJjb250YWluZXJUeXBlIiwicHVzaCIsInNodXRkb3duIiwiaW5jbHVkZXMiLCJjcmVhdGVEZXZpY2UiLCJuYW1lIiwiZGV2aWNlVHlwZUlkIiwicnVudGltZUlkIiwiZ2V0UnVudGltZUZvclBsYXRmb3JtVmVyc2lvbiIsIndhcm4iLCJvdXQiLCJyZWFzb24iLCJyZXRyaWVzIiwicGFyc2VJbnQiLCJkZXZpY2VzIiwiZ2V0RGV2aWNlcyIsImRldmljZUFyciIsInZhbHVlcyIsImRldmljZSIsInN0YXRlIiwiRXJyb3IiLCJkZWxldGVEZXZpY2UiLCJlcmFzZURldmljZSIsImxvb3BGbiIsImdldERldmljZXNCeVBhcnNpbmciLCJwbGF0Zm9ybSIsImRldmljZVNlY3Rpb25SZSIsIlJlZ0V4cCIsImVzY2FwZVJlZ0V4cCIsIm1hdGNoZXMiLCJtYXRjaCIsImlzRW1wdHkiLCJsaW5lUmUiLCJzZGsiLCJsaW5lIiwic3BsaXQiLCJzbGljZSIsImxpbmVNYXRjaCIsImZvclNkayIsInZlcnNpb25NYXRjaFJlIiwic2RrTmFtZSIsImVudHJpZXMiLCJ0b1BhaXJzIiwiSlNPTiIsInBhcnNlIiwidmVyc2lvbk1hdGNoIiwibWFwIiwiZWwiLCJhdmFpbGFiaWxpdHkiLCJlcnJNc2ciLCJhdmFpbGFibGVTREtzIiwia2V5cyIsImxlbmd0aCIsImpvaW4iLCJwbGF0Zm9ybVZlcnNpb24iLCJydW50aW1lUmUiLCJpZ24iLCJnZXRTY3JlZW5zaG90IiwicGF0aFRvU2NyZWVuc2hvdFBuZyIsInRlbXBEaXIiLCJwcmVmaXgiLCJzdWZmaXgiLCJzY3JlZW5zaG90SW1nIiwiZnMiLCJyZWFkRmlsZSIsInJpbXJhZiIsInRvU3RyaW5nIiwic2V0UGFzdGVib2FyZCIsImNvbnRlbnQiLCJlbmNvZGluZyIsInBiQ29weVN1YnByb2Nlc3MiLCJzdGFydCIsImV4aXRDb2RlVmVyaWZpZXIiLCJzdGRpbiIsInByb2MiLCJzZXRFbmNvZGluZyIsIndyaXRlIiwiZW5kIiwiZ2V0UGFzdGVib2FyZCIsImdldERldmljZVR5cGVzIiwiZGV2aWNlVHlwZXMiLCJkZXZpY2V0eXBlcyIsInR5cGUiLCJtc2ciLCJzdGFydEJvb3RNb25pdG9yIiwib3B0cyIsIm9uV2FpdGluZ0RhdGFNaWdyYXRpb24iLCJvbldhaXRpbmdTeXN0ZW1BcHAiLCJvbkZpbmlzaGVkIiwib25FcnJvciIsInN0YXR1cyIsImlzQm9vdGluZ0ZpbmlzaGVkIiwiZXJyb3IiLCJ0aW1lb3V0SGFuZGxlciIsImJvb3RNb25pdG9yIiwib24iLCJjb2RlIiwic2lnbmFsIiwiY2xlYXJUaW1lb3V0Iiwic3RvcE1vbml0b3IiLCJpc1J1bm5pbmciLCJzdG9wIiwidGltZVN0YXJ0ZWQiLCJocnRpbWUiLCJzZXRUaW1lb3V0Iiwid2FpdE1zIiwiaW50ZXJ2YWxNcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7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QUNGOztBQUNELFNBQU9JLFdBQVA7QUFDRCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGV4ZWMsIFN1YlByb2Nlc3MgfSBmcm9tICd0ZWVuX3Byb2Nlc3MnO1xuaW1wb3J0IHsgcmV0cnlJbnRlcnZhbCwgd2FpdEZvckNvbmRpdGlvbiB9IGZyb20gJ2FzeW5jYm94JztcbmltcG9ydCB7IGxvZ2dlciwgZnMsIHRlbXBEaXIgfSBmcm9tICdhcHBpdW0tc3VwcG9ydCc7XG5pbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuXG5jb25zdCBsb2cgPSBsb2dnZXIuZ2V0TG9nZ2VyKCdzaW1jdGwnKTtcblxuY29uc3QgSU9TX1BMQVRGT1JNID0gJ2lPUyc7XG5cbi8qKlxuICogRXhlY3V0ZSB0aGUgcGFydGljdWxhciBzaW1jdGwgY29tbWFuZCBhbmQgcmV0dXJuIHRoZSBvdXRwdXQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGNvbW1hbmQgLSBPbmUgb2YgYXZhaWxhYmxlIHNpbWN0bCBzdWJjb21tYW5kcy5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgRXhlY3V0ZSBgeGNydW4gc2ltY3RsYCBpbiBUZXJtaW5hbCB0byBzZWUgdGhlIGZ1bGwgbGlzdFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICBvZiBhdmFpbGFibGUgc3ViY29tbWFuZHMuXG4gKiBAcGFyYW0ge251bWJlcn0gdGltZW91dCAtIENvbW1hbmQgZXhlY3V0aW9uIHRpbWVvdXQgaW4gbWlsbGlzZWNvbmRzLlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICBTZXQgaXQgdG8gemVybyB0byBza2lwIHdhaXRpbmcgZm9yIGNvbW1hbmRcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhlY3V0aW9uLlxuICogQHBhcmFtIHtBcnJheS48c3RyaW5nPn0gYXJncyBbW11dIC0gVGhlIGxpc3Qgb2YgYWRkaXRpb25hbCBzdWJjb21tYW5kIGFyZ3VtZW50cy5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEl0J3MgZW1wdHkgYnkgZGVmYXVsdC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBlbnYgW3t9XSAtIEVudmlyb25tZW50IHZhcmlhYmxlcyBtYXBwaW5nLiBBbGwgdGhlc2UgdmFyaWFibGVzXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWxsIGJlIHBhc3NlZCBTaW11bGF0b3IgYW5kIHVzZWQgaW4gX2V4ZWN1dGluZ0Z1bmN0aW9uXy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGV4ZWN1dGluZ0Z1bmN0aW9uIC0gRXhlY3V0aW5nIGZ1bmN0aW9uIG9iamVjdC4gRXF1YWxzIHRvIHRlZW5fcHJvY2VzcydzXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9leGVjXyBieSBkZWZhdWx0LlxuICogQHBhcmFtIHtib29sZWFufSBsb2dFcnJvcnMgW3RydWVdIC0gU2V0IGl0IHRvIF9mYWxzZV8gdG8gdGhyb3cgZXhlY3V0aW9uIGVycm9yc1xuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1tZWRpYXRlbHkgd2l0aG91dCBsb2dnaW5nIGFueSBhZGRpdGlvbmFsIGluZm9ybWF0aW9uLlxuICogQHJldHVybiB7T2JqZWN0fSBUaGUgcmVzdWx0IG9mIF9leGVjdXRpbmdGdW5jdGlvbl8uXG4gKiBAdGhyb3dzIHtFcnJvcn0gSWYgdGhlIHNpbWN0bCBzdWJjb21tYW5kIGNvbW1hbmQgZXhlY3V0ZWQgYnkgX2V4ZWN1dGluZ0Z1bmN0aW9uX1xuICogICAgICAgICAgICAgICAgIHJldHVybnMgbm9uLXplcm8gcmV0dXJuIGNvZGUuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHNpbUNvbW1hbmQgKGNvbW1hbmQsIHRpbWVvdXQsIGFyZ3MgPSBbXSwgZW52ID0ge30sIGV4ZWN1dGluZ0Z1bmN0aW9uID0gZXhlYywgbG9nRXJyb3JzID0gdHJ1ZSkge1xuICAvLyBydW4gYSBwYXJ0aWN1bGFyIHNpbWN0bCBjb21tYW5kXG4gIGFyZ3MgPSBbJ3NpbWN0bCcsIGNvbW1hbmQsIC4uLmFyZ3NdO1xuICAvLyBQcmVmaXggYWxsIHBhc3NlZCBpbiBlbnZpcm9ubWVudCB2YXJpYWJsZXMgd2l0aCAnU0lNQ1RMX0NISUxEXycsIHNpbWN0bFxuICAvLyB3aWxsIHRoZW4gcGFzcyB0aGVzZSB0byB0aGUgY2hpbGQgKHNwYXduZWQpIHByb2Nlc3MuXG4gIGVudiA9IF8uZGVmYXVsdHMoXy5tYXBLZXlzKGVudiwgKHZhbHVlLCBrZXkpID0+IHtcbiAgICByZXR1cm4gYFNJTUNUTF9DSElMRF8ke2tleX1gO1xuICB9KSwgcHJvY2Vzcy5lbnYpO1xuXG4gIHRyeSB7XG4gICAgcmV0dXJuIGF3YWl0IGV4ZWN1dGluZ0Z1bmN0aW9uKCd4Y3J1bicsIGFyZ3MsIHt0aW1lb3V0LCBlbnZ9KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGlmICghbG9nRXJyb3JzKSB7XG4gICAgICAvLyBpZiB3ZSBkb24ndCB3YW50IHRvIHNlZSB0aGUgZXJyb3JzLCBqdXN0IHRocm93IGFuZCBhbGxvdyB0aGUgY2FsbGluZ1xuICAgICAgLy8gY29kZSBkbyB3aGF0IGl0IHdhbnRzXG4gICAgICB0aHJvdyBlO1xuICAgIH0gZWxzZSBpZiAoZS5zdGRlcnIpIHtcbiAgICAgIGxvZy5lcnJvckFuZFRocm93KGBzaW1jdGwgZXJyb3IgcnVubmluZyAnJHtjb21tYW5kfSc6ICR7ZS5zdGRlcnIudHJpbSgpfWApO1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2cuZXJyb3JBbmRUaHJvdyhlKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBFeGVjUmVzdWx0XG4gKiBAcHJvcGVydHkgez9zdHJpbmd9IHN0ZG91dCAtIFByb2Nlc3Mgc3Rkb3V0LlxuICogQHByb3BlcnR5IHs/c3RyaW5nfSBzdGRlcnIgLSBQcm9jZXNzIHN0ZGVyci5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBjb2RlIC0gUHJvY2VzcyBleGl0IGNvZGUuXG4gKi9cblxuLyoqXG4gKiBFeGVjdXRlIHRoZSBwYXJ0aWN1bGFyIHNpbWN0bCBzdWJjb21tYW5kIHN5bmNocm9ub3VzbHkgYW5kXG4gKiB3YWl0IGZvciB0aGUgb3V0cHV0LlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb21tYW5kIC0gU2VlIHtAbGluayBzaW1Db21tYW5kfSBwYXJhbWV0ZXJzLlxuICogQHBhcmFtIHtudW1iZXJ9IHRpbWVvdXQgLSBTZWUge0BsaW5rIHNpbUNvbW1hbmR9IHBhcmFtZXRlcnMuXG4gKiBAcGFyYW0ge0FycmF5LjxzdHJpbmc+fSBhcmdzIFtbXV0gLSBTZWUge0BsaW5rIHNpbUNvbW1hbmR9IHBhcmFtZXRlcnMuXG4gKiBAcGFyYW0ge09iamVjdH0gZW52IFt7fV0gLSBTZWUge0BsaW5rIHNpbUNvbW1hbmR9IHBhcmFtZXRlcnMuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGxvZ0Vycm9ycyBbdHJ1ZV0gLSBTZWUge0BsaW5rIHNpbUNvbW1hbmR9IHBhcmFtZXRlcnMuXG4gKiBAcmV0dXJuIHtFeGVjUmVzdWx0fSBUaGUgcmVzdWx0IG9mIF9leGVjXyBmdW5jdGlvbi5cbiAqIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGUgc2ltY3RsIHN1YmNvbW1hbmQgY29tbWFuZCBleGVjdXRlZCBieSBleGVjXG4gKiAgICAgICAgICAgICAgICAgcmV0dXJucyBub24temVybyByZXR1cm4gY29kZS5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gc2ltRXhlYyAoY29tbWFuZCwgdGltZW91dCwgYXJncyA9IFtdLCBlbnYgPSB7fSwgbG9nRXJyb3JzID0gdHJ1ZSkge1xuICByZXR1cm4gYXdhaXQgc2ltQ29tbWFuZChjb21tYW5kLCB0aW1lb3V0LCBhcmdzLCBlbnYsIGFzeW5jIChjLCBhLCBvYikgPT4ge1xuICAgIHJldHVybiBhd2FpdCBleGVjKGMsIGEsIG9iKTtcbiAgfSwgbG9nRXJyb3JzKTtcbn1cblxuLyoqXG4gKiBDcmF0ZSBhIHRlZW5fcHJvY2VzcydzIFN1YlByb2Nlc3MgaW5zdGFuY2UgZm9yIHRoZSBwYXJ0aWN1bGFyXG4gKiBzaW1jdGwgc3ViY29tbWFuZCBleGVjdXRpb24uIFRoaXMgbWlnaHQgYmUgbmVlZGVkIHRvIGdhaW4gYmV0dGVyXG4gKiBjb250cm9sIG92ZXIgdGhlIGV4ZWN1dGlvbiBwcm9jZXNzLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb21tYW5kIC0gU2VlIHtAbGluayBzaW1Db21tYW5kfSBwYXJhbWV0ZXJzLlxuICogQHBhcmFtIHtudW1iZXJ9IHRpbWVvdXQgLSBTZWUge0BsaW5rIHNpbUNvbW1hbmR9IHBhcmFtZXRlcnMuXG4gKiBAcGFyYW0ge0FycmF5LjxzdHJpbmc+fSBhcmdzIFtbXV0gLSBTZWUge0BsaW5rIHNpbUNvbW1hbmR9IHBhcmFtZXRlcnMuXG4gKiBAcGFyYW0ge09iamVjdH0gZW52IFt7fV0gLSBTZWUge0BsaW5rIHNpbUNvbW1hbmR9IHBhcmFtZXRlcnMuXG4gKiBAcmV0dXJuIHtTdWJQcm9jZXNzfSBUaGUgaW5zdGFuY2Ugb2YgdGVlbl9wcm9jZXNzJ3MgU3ViUHJvY2VzcyBjbGFzcy5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gc2ltU3ViUHJvY2VzcyAoY29tbWFuZCwgdGltZW91dCwgYXJncyA9IFtdLCBlbnYgPSB7fSkge1xuICByZXR1cm4gYXdhaXQgc2ltQ29tbWFuZChjb21tYW5kLCB0aW1lb3V0LCBhcmdzLCBlbnYsIChjLCBhLCBvYikgPT4ge1xuICAgIHJldHVybiBuZXcgU3ViUHJvY2VzcyhjLCBhLCBvYik7XG4gIH0pO1xufVxuXG4vKipcbiAqIEluc3RhbGwgdGhlIHBhcnRpY3VsYXIgYXBwbGljYXRpb24gcGFja2FnZSBvbiBTaW11bGF0b3IuXG4gKiBJdCBpcyByZXF1aXJlZCB0aGF0IFNpbXVsYXRvciBpcyBpbiBfYm9vdGVkXyBzdGF0ZS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdWRpZCAtIFRoZSBVRElEIG9mIGFuIGV4aXN0aW5nIFNpbXVsYXRvci5cbiAqIEBwYXJhbSB7c3RyaW5nfSBhcHBQYXRoIC0gRnVsbCBwYXRoIHRvIC5hcHAgcGFja2FnZSwgd2hpY2ggaXNcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgZ29pbmcgdG8gYmUgaW5zdGFsbGVkLlxuICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBjb3JyZXNwb25kaW5nIHNpbWN0bCBzdWJjb21tYW5kIGNvbW1hbmRcbiAqICAgICAgICAgICAgICAgICByZXR1cm5zIG5vbi16ZXJvIHJldHVybiBjb2RlLlxuICovXG5hc3luYyBmdW5jdGlvbiBpbnN0YWxsQXBwICh1ZGlkLCBhcHBQYXRoKSB7XG4gIGF3YWl0IHNpbUV4ZWMoJ2luc3RhbGwnLCAwLCBbdWRpZCwgYXBwUGF0aF0pO1xufVxuXG4vKipcbiAqIEJvb3QgdGhlIHBhcnRpY3VsYXIgU2ltdWxhdG9yIGlmIGl0IGlzIG5vdCBydW5uaW5nLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB1ZGlkIC0gVGhlIFVESUQgb2YgYW4gZXhpc3RpbmcgU2ltdWxhdG9yLlxuICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBjb3JyZXNwb25kaW5nIHNpbWN0bCBzdWJjb21tYW5kIGNvbW1hbmRcbiAqICAgICAgICAgICAgICAgICByZXR1cm5zIG5vbi16ZXJvIHJldHVybiBjb2RlLlxuICovXG5hc3luYyBmdW5jdGlvbiBib290RGV2aWNlICh1ZGlkKSB7XG4gIHRyeSB7XG4gICAgYXdhaXQgc2ltRXhlYygnYm9vdCcsIDAsIFt1ZGlkXSk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGlmICgoZXJyLm1lc3NhZ2UgfHwgJycpLmluZGV4T2YoJ1VuYWJsZSB0byBib290IGRldmljZSBpbiBjdXJyZW50IHN0YXRlOiBCb290ZWQnKSA9PT0gLTEpIHtcbiAgICAgIHRocm93IGVycjtcbiAgICB9XG4gICAgbG9nLmRlYnVnKGBTaW11bGF0b3IgYWxyZWFkeSBpbiAnQm9vdGVkJyBzdGF0ZS4gQ29udGludWluZ2ApO1xuICB9XG59XG5cbi8qKlxuICogUmVtb3ZlIHRoZSBwYXJ0aWN1bGFyIGFwcGxpY2F0aW9uIHBhY2thZ2UgZnJvbSBTaW11bGF0b3IuXG4gKiBJdCBpcyByZXF1aXJlZCB0aGF0IFNpbXVsYXRvciBpcyBpbiBfYm9vdGVkXyBzdGF0ZSBhbmRcbiAqIHRoZSBhcHBsaWNhdGlvbiB3aXRoIGdpdmVuIGJ1bmRsZSBpZGVudGlmaWVyIGlzIGFscmVhZHkgaW5zdGFsbGVkLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB1ZGlkIC0gVGhlIFVESUQgb2YgYW4gZXhpc3RpbmcgU2ltdWxhdG9yLlxuICogQHBhcmFtIHtzdHJpbmd9IGJ1bmRsZUlkIC0gQnVuZGxlIGlkZW50aWZpZXIgb2YgdGhlIGFwcGxpY2F0aW9uLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpY2ggaXMgZ29pbmcgdG8gYmUgcmVtb3ZlZC5cbiAqIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGUgY29ycmVzcG9uZGluZyBzaW1jdGwgc3ViY29tbWFuZCBjb21tYW5kXG4gKiAgICAgICAgICAgICAgICAgcmV0dXJucyBub24temVybyByZXR1cm4gY29kZS5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gcmVtb3ZlQXBwICh1ZGlkLCBidW5kbGVJZCkge1xuICBhd2FpdCBzaW1FeGVjKCd1bmluc3RhbGwnLCAwLCBbdWRpZCwgYnVuZGxlSWRdKTtcbn1cblxuLyoqXG4gKiBFeGVjdXRlIHRoZSBwYXJ0aWN1bGFyIGFwcGxpY2F0aW9uIHBhY2thZ2Ugb24gU2ltdWxhdG9yLlxuICogSXQgaXMgcmVxdWlyZWQgdGhhdCBTaW11bGF0b3IgaXMgaW4gX2Jvb3RlZF8gc3RhdGUgYW5kXG4gKiB0aGUgYXBwbGljYXRpb24gd2l0aCBnaXZlbiBidW5kbGUgaWRlbnRpZmllciBpcyBhbHJlYWR5IGluc3RhbGxlZC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdWRpZCAtIFRoZSBVRElEIG9mIGFuIGV4aXN0aW5nIFNpbXVsYXRvci5cbiAqIEBwYXJhbSB7c3RyaW5nfSBidW5kbGVJZCAtIEJ1bmRsZSBpZGVudGlmaWVyIG9mIHRoZSBhcHBsaWNhdGlvbixcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWNoIGlzIGdvaW5nIHRvIGJlIHJlbW92ZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gdHJpZXMgWzVdIC0gVGhlIG1heGltdW0gbnVtYmVyIG9mIHJldHJpZXMgYmVmb3JlXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3dpbmcgYW4gZXhjZXB0aW9uLlxuICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBjb3JyZXNwb25kaW5nIHNpbWN0bCBzdWJjb21tYW5kIGNvbW1hbmRcbiAqICAgICAgICAgICAgICAgICByZXR1cm5zIG5vbi16ZXJvIHJldHVybiBjb2RlLlxuICovXG5hc3luYyBmdW5jdGlvbiBsYXVuY2ggKHVkaWQsIGJ1bmRsZUlkLCB0cmllcyA9IDUpIHtcbiAgYXdhaXQgcmV0cnlJbnRlcnZhbCh0cmllcywgMTAwMCwgYXN5bmMgKCkgPT4ge1xuICAgIGF3YWl0IHNpbUV4ZWMoJ2xhdW5jaCcsIDAsIFt1ZGlkLCBidW5kbGVJZF0pO1xuICB9KTtcbn1cblxuLyoqXG4gKiBTcGF3biB0aGUgcGFydGljdWxhciBwcm9jZXNzIG9uIFNpbXVsYXRvci5cbiAqIEl0IGlzIHJlcXVpcmVkIHRoYXQgU2ltdWxhdG9yIGlzIGluIF9ib290ZWRfIHN0YXRlLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB1ZGlkIC0gVGhlIFVESUQgb2YgYW4gZXhpc3RpbmcgU2ltdWxhdG9yLlxuICogQHBhcmFtIHtzdHJpbmd8QXJyYXk8c3RyaW5nPn0gYXJncyAtIFNwYXduIGFyZ3VtZW50c1xuICogQHBhcmFtIHtvYmplY3R9IGVudiBbe31dIC0gQWRkaXRpb25hbCBlbnZpcm9ubWVudCB2YXJpYWJsZXMgbWFwcGluZy5cbiAqIEByZXR1cm4ge0V4ZWNSZXN1bHR9IENvbW1hbmQgZXhlY3V0aW9uIHJlc3VsdC5cbiAqIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGUgY29ycmVzcG9uZGluZyBzaW1jdGwgc3ViY29tbWFuZCBjb21tYW5kXG4gKiAgICAgICAgICAgICAgICAgcmV0dXJucyBub24temVybyByZXR1cm4gY29kZS5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gc3Bhd24gKHVkaWQsIGFyZ3MsIGVudiA9IHt9KSB7XG4gIHJldHVybiBhd2FpdCBzaW1FeGVjKCdzcGF3bicsIDAsIFt1ZGlkLCAuLi4oXy5pc0FycmF5KGFyZ3MpID8gYXJncyA6IFthcmdzXSldLCBlbnYpO1xufVxuXG4vKipcbiAqIFByZXBhcmUgU3ViUHJvY2VzcyBpbnN0YW5jZSBmb3IgYSBuZXcgcHJvY2Vzcywgd2hpY2ggaXMgZ29pbmcgdG8gYmUgc3Bhd25lZFxuICogb24gU2ltdWxhdG9yLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB1ZGlkIC0gVGhlIFVESUQgb2YgYW4gZXhpc3RpbmcgU2ltdWxhdG9yLlxuICogQHBhcmFtIHtzdHJpbmd8QXJyYXk8c3RyaW5nPn0gYXJncyAtIFNwYXduIGFyZ3VtZW50c1xuICogQHBhcmFtIHtvYmplY3R9IGVudiBbe31dIC0gQWRkaXRpb25hbCBlbnZpcm9ubWVudCB2YXJpYWJsZXMgbWFwcGluZy5cbiAqIEByZXR1cm4ge1N1YlByb2Nlc3N9IFRoZSBpbnN0YW5jZSBvZiB0aGUgcHJvY2VzcyB0byBiZSBzcGF3bmVkLlxuICovXG5hc3luYyBmdW5jdGlvbiBzcGF3blN1YlByb2Nlc3MgKHVkaWQsIGFyZ3MsIGVudiA9IHt9KSB7XG4gIHJldHVybiBhd2FpdCBzaW1TdWJQcm9jZXNzKCdzcGF3bicsIDAsIFt1ZGlkLCAuLi4oXy5pc0FycmF5KGFyZ3MpID8gYXJncyA6IFthcmdzXSldLCBlbnYpO1xufVxuXG4vKipcbiAqIE9wZW4gVVJMIHNjaGVtZSBvbiBTaW11bGF0b3IuIGlPUyB3aWxsIGF1dG9tYXRpY2FsbHkgdHJ5XG4gKiB0byBmaW5kIGEgbWF0Y2hpbmcgYXBwbGljYXRpb24sIHdoaWNoIHN1cHBvcnRzIHRoZSBnaXZlbiBzY2hlbWUuXG4gKiBJdCBpcyByZXF1aXJlZCB0aGF0IFNpbXVsYXRvciBpcyBpbiBfYm9vdGVkXyBzdGF0ZS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdWRpZCAtIFRoZSBVRElEIG9mIGFuIGV4aXN0aW5nIFNpbXVsYXRvci5cbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUaGUgVVJMIHNjaGVtZSB0byBvcGVuLCBmb3IgZXhhbXBsZSBodHRwOi8vYXBwaW9tLmlvXG4gKiAgICAgICAgICAgICAgICAgICAgICAgd2lsbCBiZSBvcGVuZWQgYnkgdGhlIGJ1aWx0LWluIG1vYmlsZSBicm93c2VyLlxuICogQHJldHVybiB7RXhlY1Jlc3VsdH0gQ29tbWFuZCBleGVjdXRpb24gcmVzdWx0LlxuICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBjb3JyZXNwb25kaW5nIHNpbWN0bCBzdWJjb21tYW5kIGNvbW1hbmRcbiAqICAgICAgICAgICAgICAgICByZXR1cm5zIG5vbi16ZXJvIHJldHVybiBjb2RlLlxuICovXG5hc3luYyBmdW5jdGlvbiBvcGVuVXJsICh1ZGlkLCB1cmwpIHtcbiAgcmV0dXJuIGF3YWl0IHNpbUV4ZWMoJ29wZW51cmwnLCAwLCBbdWRpZCwgdXJsXSk7XG59XG5cbi8qKlxuICogSW52b2tlIGhpZGRlbiBhcHBpbmZvIHN1YmNvbW1hbmQgdG8gZ2V0IHRoZSBpbmZvcm1hdGlvblxuICogYWJvdXQgYXBwbGljYXRpb25zIGluc3RhbGxlZCBvbiBTaW11bGF0b3IsIGluY2x1ZGluZ1xuICogc3lzdGVtIGFwcGxpY2F0aW9ucyAoe0BsaW5rIGdldEFwcENvbnRhaW5lcn0gZG9lcyBub3QgXCJzZWVcIiBzdWNoIGFwcHMpLlxuICogU2ltdWxhdG9yIHNlcnZlciBzaG91bGQgYmUgaW4gJ2Jvb3RlZCcgc3RhdGUgZm9yIHRoaXMgY2FsbCB0byB3b3JrIHByb3Blcmx5LlxuICogVGhlIHRvb2wgaXMgb25seSBhdmFpbGFibGUgc2luY2UgWGNvZGUgU0RLIDguMVxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB1ZGlkIC0gVURJRCBvZiB0aGUgdGFyZ2V0IFNpbXVsYXRvci5cbiAqIEBwYXJhbSB7c3RyaW5nfSBidW5kbGVJZCAtIFRoZSBidW5kbGUgaWRlbnRpZmllciBvZiB0aGUgdGFyZ2V0IGFwcGxpY2F0aW9uLlxuICogQHJldHVybiB7c3RyaW5nfSBUaGUgaW5mb3JtYXRpb24gYWJvdXQgaW5zdGFsbGVkIGFwcGxpY2F0aW9uLlxuICpcbiAqIEV4YW1wbGUgb3V0cHV0IGZvciBub24tZXhpc3RpbmcgYXBwbGljYXRpb24gY29udGFpbmVyOlxuICogPHByZT5cbiAqIHtcbiAqICAgQ0ZCdW5kbGVJZGVudGlmaWVyID0gXCJjb20uYXBwbGUuTW9iaWxlU2FmYXJpXCI7XG4gKiAgIEdyb3VwQ29udGFpbmVycyA9ICAgICB7XG4gKiAgIH07XG4gKiAgIFNCQXBwVGFncyA9ICAgICAoXG4gKiAgICk7XG4gKiB9XG4gKiA8L3ByZT5cbiAqXG4gKiBFeGFtcGxlIG91dHB1dCBmb3IgYW4gZXhpc3Rpbmcgc3lzdGVtIGFwcGxpY2F0aW9uIGNvbnRhaW5lcjpcbiAqIDxwcmU+XG4gKiB7XG4gKiAgIEFwcGxpY2F0aW9uVHlwZSA9IEhpZGRlbjtcbiAqICAgQnVuZGxlID0gXCJmaWxlOi8vL0FwcGxpY2F0aW9ucy9YY29kZS1iZXRhLmFwcC9Db250ZW50cy9EZXZlbG9wZXIvUGxhdGZvcm1zL2lQaG9uZU9TLnBsYXRmb3JtL0RldmVsb3Blci9MaWJyYXJ5L0NvcmVTaW11bGF0b3IvUHJvZmlsZXMvUnVudGltZXMvaU9TLnNpbXJ1bnRpbWUvQ29udGVudHMvUmVzb3VyY2VzL1J1bnRpbWVSb290L1N5c3RlbS9MaWJyYXJ5L0NvcmVTZXJ2aWNlcy9TcHJpbmdCb2FyZC5hcHBcIjtcbiAqICAgQ0ZCdW5kbGVEaXNwbGF5TmFtZSA9IFNwcmluZ0JvYXJkO1xuICogICBDRkJ1bmRsZUV4ZWN1dGFibGUgPSBTcHJpbmdCb2FyZDtcbiAqICAgQ0ZCdW5kbGVJZGVudGlmaWVyID0gXCJjb20uYXBwbGUuc3ByaW5nYm9hcmRcIjtcbiAqICAgQ0ZCdW5kbGVOYW1lID0gU3ByaW5nQm9hcmQ7XG4gKiAgIENGQnVuZGxlVmVyc2lvbiA9IDUwO1xuICogICBHcm91cENvbnRhaW5lcnMgPSAgICAge1xuICogICB9O1xuICogICBQYXRoID0gXCIvQXBwbGljYXRpb25zL1hjb2RlLWJldGEuYXBwL0NvbnRlbnRzL0RldmVsb3Blci9QbGF0Zm9ybXMvaVBob25lT1MucGxhdGZvcm0vRGV2ZWxvcGVyL0xpYnJhcnkvQ29yZVNpbXVsYXRvci9Qcm9maWxlcy9SdW50aW1lcy9pT1Muc2ltcnVudGltZS9Db250ZW50cy9SZXNvdXJjZXMvUnVudGltZVJvb3QvU3lzdGVtL0xpYnJhcnkvQ29yZVNlcnZpY2VzL1NwcmluZ0JvYXJkLmFwcFwiO1xuICogICBTQkFwcFRhZ3MgPSAgICAgKFxuICogICApO1xuICogfVxuICogPC9wcmU+XG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGFwcEluZm8gKHVkaWQsIGJ1bmRsZUlkKSB7XG4gIGNvbnN0IHtzdGRvdXR9ID0gYXdhaXQgc2ltRXhlYygnYXBwaW5mbycsIDAsIFt1ZGlkLCBidW5kbGVJZF0pO1xuICByZXR1cm4gKHN0ZG91dCB8fCAnJykudHJpbSgpO1xufVxuXG4vKipcbiAqIEFkZCB0aGUgcGFydGljdWxhciBtZWRpYSBmaWxlIHRvIFNpbXVsYXRvcidzIGxpYnJhcnkuXG4gKiBJdCBpcyByZXF1aXJlZCB0aGF0IFNpbXVsYXRvciBpcyBpbiBfYm9vdGVkXyBzdGF0ZS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdWRpZCAtIFRoZSBVRElEIG9mIGFuIGV4aXN0aW5nIFNpbXVsYXRvci5cbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIC0gRnVsbCBwYXRoIHRvIGEgbWVkaWEgZmlsZSBvbiB0aGUgbG9jYWxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgZmlsZSBzeXN0ZW0uXG4gKiBAcmV0dXJuIHtFeGVjUmVzdWx0fSBDb21tYW5kIGV4ZWN1dGlvbiByZXN1bHQuXG4gKiBAdGhyb3dzIHtFcnJvcn0gSWYgdGhlIGNvcnJlc3BvbmRpbmcgc2ltY3RsIHN1YmNvbW1hbmQgY29tbWFuZFxuICogICAgICAgICAgICAgICAgIHJldHVybnMgbm9uLXplcm8gcmV0dXJuIGNvZGUuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGFkZE1lZGlhICh1ZGlkLCBwYXRoKSB7XG4gIHJldHVybiBhd2FpdCBzaW1FeGVjKCdhZGRtZWRpYScsIDAsIFt1ZGlkLCBwYXRoXSk7XG59XG5cbi8qKlxuICogVGVybWluYXRlIHRoZSBnaXZlbiBydW5uaW5nIGFwcGxpY2F0aW9uIG9uIFNpbXVsYXRvci5cbiAqIEl0IGlzIHJlcXVpcmVkIHRoYXQgU2ltdWxhdG9yIGlzIGluIF9ib290ZWRfIHN0YXRlLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB1ZGlkIC0gVGhlIFVESUQgb2YgYW4gZXhpc3RpbmcgU2ltdWxhdG9yLlxuICogQHBhcmFtIHtzdHJpbmd9IGJ1bmRsZUlkIC0gQnVuZGxlIGlkZW50aWZpZXIgb2YgdGhlIGFwcGxpY2F0aW9uLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpY2ggaXMgZ29pbmcgdG8gYmUgdGVybWluYXRlZC5cbiAqIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGUgY29ycmVzcG9uZGluZyBzaW1jdGwgc3ViY29tbWFuZCBjb21tYW5kXG4gKiAgICAgICAgICAgICAgICAgcmV0dXJucyBub24temVybyByZXR1cm4gY29kZS5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gdGVybWluYXRlICh1ZGlkLCBidW5kbGVJZCkge1xuICBhd2FpdCBzaW1FeGVjKCd0ZXJtaW5hdGUnLCAwLCBbdWRpZCwgYnVuZGxlSWRdKTtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIGZ1bGwgcGF0aCB0byB0aGUgcGFydGljdWxhciBhcHBsaWNhdGlvbiBjb250YWluZXJcbiAqIG9uIHRoZSBsb2NhbCBmaWxlIHN5c3RlbS4gTm90ZSwgdGhhdCB0aGlzIHN1YmNvbW1hbmQgdGhyb3dzXG4gKiBhbiBlcnJvciBpZiBidW5kbGUgaWQgb2YgYSBzeXN0ZW0gYXBwbGljYXRpb24gaXMgcHJvdmlkZWQsXG4gKiBsaWtlICdjb20uYXBwbGUuc3ByaW5nYm9hcmQnLlxuICogSXQgaXMgcmVxdWlyZWQgdGhhdCBTaW11bGF0b3IgaXMgaW4gX2Jvb3RlZF8gc3RhdGUuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHVkaWQgLSBUaGUgVURJRCBvZiBhbiBleGlzdGluZyBTaW11bGF0b3IuXG4gKiBAcGFyYW0ge3N0cmluZ30gYnVuZGxlSWQgLSBCdW5kbGUgaWRlbnRpZmllciBvZiBhbiBhcHBsaWNhdGlvbi5cbiAqIEBwYXJhbSB7P2Jvb2xlYW59IGxvZ0Vycm9ycyBbdHJ1ZV0gLSBXaGV0aGVyIHRvIGluY2x1ZGUgZXhlYydzIGNvbW1hbmRcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGRlcnIgb3V0cHV0IGludG8gZXhjZXB0aW9uIG1lc3NhZ2UgaWYgdGhyb3duLlxuICogQHBhcmFtIHs/c3RyaW5nfSBjb250YWluZXJUeXBlIC0gV2hpY2ggY29udGFpbmVyIHR5cGUgdG8gcmV0dXJuLiBQb3NzaWJsZSB2YWx1ZXNcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZSAnYXBwJywgJ2RhdGEnLCAnZ3JvdXBzJywgJzxBIHNwZWNpZmljIEFwcCBHcm91cCBjb250YWluZXI+Jy5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRoZSBkZWZhdWx0IHZhbHVlIGlzICdhcHAnLlxuICogQHJldHVybiB7c3RyaW5nfSBGdWxsIHBhdGggdG8gdGhlIGdpdmVuIGFwcGxpY2F0aW9uIGNvbnRhaW5lciBvbiB0aGUgbG9jYWxcbiAqICAgICAgICAgICAgICAgICAgZmlsZSBzeXN0ZW0uXG4gKiBAdGhyb3dzIHtFcnJvcn0gSWYgdGhlIGNvcnJlc3BvbmRpbmcgc2ltY3RsIHN1YmNvbW1hbmQgY29tbWFuZFxuICogICAgICAgICAgICAgICAgIHJldHVybnMgbm9uLXplcm8gcmV0dXJuIGNvZGUuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGdldEFwcENvbnRhaW5lciAodWRpZCwgYnVuZGxlSWQsIGxvZ0Vycm9ycyA9IHRydWUsIGNvbnRhaW5lclR5cGUgPSBudWxsKSB7XG4gIGNvbnN0IGFyZ3MgPSBbdWRpZCwgYnVuZGxlSWRdO1xuICBpZiAoY29udGFpbmVyVHlwZSkge1xuICAgIGFyZ3MucHVzaChjb250YWluZXJUeXBlKTtcbiAgfVxuICBjb25zdCB7c3Rkb3V0fSA9IGF3YWl0IHNpbUV4ZWMoJ2dldF9hcHBfY29udGFpbmVyJywgMCwgYXJncywge30sIGxvZ0Vycm9ycyk7XG4gIHJldHVybiAoc3Rkb3V0IHx8ICcnKS50cmltKCk7XG59XG5cbi8qKlxuICogU2h1dGRvd24gdGhlIGdpdmVuIFNpbXVsYXRvciBpZiBpdCBpcyBydW5uaW5nLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB1ZGlkIC0gVGhlIFVESUQgb2YgYW4gZXhpc3RpbmcgU2ltdWxhdG9yLlxuICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBjb3JyZXNwb25kaW5nIHNpbWN0bCBzdWJjb21tYW5kIGNvbW1hbmRcbiAqICAgICAgICAgICAgICAgICByZXR1cm5zIG5vbi16ZXJvIHJldHVybiBjb2RlLlxuICovXG5hc3luYyBmdW5jdGlvbiBzaHV0ZG93biAodWRpZCkge1xuICB0cnkge1xuICAgIGF3YWl0IHNpbUV4ZWMoJ3NodXRkb3duJywgMCwgW3VkaWRdKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgaWYgKCEoZXJyICsgJycpLmluY2x1ZGVzKCdjdXJyZW50IHN0YXRlOiBTaHV0ZG93bicpKSB7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfVxuICAgIGxvZy5kZWJ1ZyhgU2ltdWxhdG9yIGFscmVhZHkgaW4gJ1NodXRkb3duJyBzdGF0ZS4gQ29udGludWluZ2ApO1xuICB9XG59XG5cbi8qKlxuICogQ3JlYXRlIFNpbXVsYXRvciBkZXZpY2Ugd2l0aCBnaXZlbiBuYW1lIGZvciB0aGUgcGFydGljdWxhclxuICogcGxhdGZvcm0gdHlwZSBhbmQgdmVyc2lvbi5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIFRoZSBkZXZpY2UgbmFtZSB0byBiZSBjcmVhdGVkLlxuICogQHBhcmFtIHtzdHJpbmd9IGRldmljZVR5cGVJZCAtIERldmljZSB0eXBlLCBmb3IgZXhhbXBsZSAnaVBob25lIDYnLlxuICogQHBhcmFtIHtzdHJpbmd9IHJ1bnRpbWVJZCAtIFBsYXRmb3JtIHZlcnNpb24sIGZvciBleGFtcGxlICcxMC4zJy5cbiAqIEBwYXJhbSB7bnVtYmVyfSB0aW1lb3V0IFsxMDAwMF0gLSBUaGUgbWF4aW11bSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIHdhaXRcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bml0IGRldmljZSBjcmVhdGlvbiBpcyBjb21wbGV0ZWQuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBVRElEIG9mIHRoZSBuZXdseSBjcmVhdGVkIGRldmljZS5cbiAqIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGUgY29ycmVzcG9uZGluZyBzaW1jdGwgc3ViY29tbWFuZCBjb21tYW5kXG4gKiAgICAgICAgICAgICAgICAgcmV0dXJucyBub24temVybyByZXR1cm4gY29kZS5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gY3JlYXRlRGV2aWNlIChuYW1lLCBkZXZpY2VUeXBlSWQsIHJ1bnRpbWVJZCwgdGltZW91dCA9IDEwMDAwKSB7XG4gIGxldCB1ZGlkO1xuICAvLyBmaXJzdCBtYWtlIHN1cmUgdGhhdCB0aGUgcnVudGltZSBpZCBpcyB0aGUgcmlnaHQgb25lXG4gIC8vIGluIHNvbWUgdmVyc2lvbnMgb2YgWGNvZGUgaXQgd2lsbCBiZSBhIHBhdGNoIHZlcnNpb25cbiAgdHJ5IHtcbiAgICBydW50aW1lSWQgPSBhd2FpdCBnZXRSdW50aW1lRm9yUGxhdGZvcm1WZXJzaW9uKHJ1bnRpbWVJZCk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGxvZy53YXJuKGBVbmFibGUgdG8gZmluZCBydW50aW1lIGZvciBpT1MgJyR7cnVudGltZUlkfScuIENvbnRpbnVpbmdgKTtcbiAgfVxuXG4gIGxvZy5kZWJ1ZyhgQ3JlYXRpbmcgc2ltdWxhdG9yIHdpdGggbmFtZSAnJHtuYW1lfScsIGRldmljZSB0eXBlIGlkICcke2RldmljZVR5cGVJZH0nIGFuZCBydW50aW1lIGlkICcke3J1bnRpbWVJZH0nYCk7XG4gIHRyeSB7XG4gICAgbGV0IG91dCA9IGF3YWl0IHNpbUV4ZWMoJ2NyZWF0ZScsIDAsIFtuYW1lLCBkZXZpY2VUeXBlSWQsIHJ1bnRpbWVJZF0pO1xuICAgIHVkaWQgPSBvdXQuc3Rkb3V0LnRyaW0oKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgbGV0IHJlYXNvbiA9IGVyci5tZXNzYWdlO1xuICAgIGlmIChlcnIuc3RkZXJyKSB7XG4gICAgICByZWFzb24gPSBlcnIuc3RkZXJyLnRyaW0oKTtcbiAgICB9XG4gICAgbG9nLmVycm9yQW5kVGhyb3coYENvdWxkIG5vdCBjcmVhdGUgc2ltdWxhdG9yIHdpdGggbmFtZSAnJHtuYW1lfScsIGRldmljZSBgICtcbiAgICAgICAgICAgICAgICAgICAgICBgdHlwZSBpZCAnJHtkZXZpY2VUeXBlSWR9JyBhbmQgcnVudGltZSBpZCAnJHtydW50aW1lSWR9Jy4gUmVhc29uOiAnJHtyZWFzb259J2ApO1xuICB9XG5cbiAgLy8gbWFrZSBzdXJlIHRoYXQgaXQgZ2V0cyBvdXQgb2YgdGhlIFwiQ3JlYXRpbmdcIiBzdGF0ZVxuICBsZXQgcmV0cmllcyA9IHBhcnNlSW50KHRpbWVvdXQgLyAxMDAwLCAxMCk7XG4gIGF3YWl0IHJldHJ5SW50ZXJ2YWwocmV0cmllcywgMTAwMCwgYXN5bmMgKCkgPT4ge1xuICAgIGxldCBkZXZpY2VzID0gYXdhaXQgZ2V0RGV2aWNlcygpO1xuICAgIGZvciAobGV0IGRldmljZUFyciBvZiBfLnZhbHVlcyhkZXZpY2VzKSkge1xuICAgICAgZm9yIChsZXQgZGV2aWNlIG9mIGRldmljZUFycikge1xuICAgICAgICBpZiAoZGV2aWNlLnVkaWQgPT09IHVkaWQpIHtcbiAgICAgICAgICBpZiAoZGV2aWNlLnN0YXRlID09PSAnQ3JlYXRpbmcnKSB7XG4gICAgICAgICAgICAvLyBuZWVkIHRvIHJldHJ5XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0RldmljZSBzdGlsbCBiZWluZyBjcmVhdGVkJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIHN0b3AgbG9va2luZywgd2UncmUgZG9uZVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHVkaWQ7XG59XG5cbi8qKlxuICogRGVsZXRlIHRoZSBwYXJ0aWN1bGFyIFNpbXVsYXRvciBmcm9tIGF2YWlsYWJsZSBkZXZpY2VzIGxpc3QuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHVkaWQgLSBUaGUgVURJRCBvZiBhbiBleGlzdGluZyBTaW11bGF0b3IuXG4gKiBAdGhyb3dzIHtFcnJvcn0gSWYgdGhlIGNvcnJlc3BvbmRpbmcgc2ltY3RsIHN1YmNvbW1hbmQgY29tbWFuZFxuICogICAgICAgICAgICAgICAgIHJldHVybnMgbm9uLXplcm8gcmV0dXJuIGNvZGUuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGRlbGV0ZURldmljZSAodWRpZCkge1xuICBhd2FpdCBzaW1FeGVjKCdkZWxldGUnLCAwLCBbdWRpZF0pO1xufVxuXG4vKipcbiAqIFJlc2V0IHRoZSBjb250ZW50IGFuZCBzZXR0aW5ncyBvZiB0aGUgcGFydGljdWxhciBTaW11bGF0b3IuXG4gKiBJdCBpcyByZXF1aXJlZCB0aGF0IFNpbXVsYXRvciBpcyBpbiBfc2h1dGRvd25fIHN0YXRlLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB1ZGlkIC0gVGhlIFVESUQgb2YgYW4gZXhpc3RpbmcgU2ltdWxhdG9yLlxuICogQHBhcmFtIHtudW1iZXJ9IHRpbWVvdXQgWzEwMDAwXSAtIFRoZSBtYXhpbXVtIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gd2FpdFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuaXQgZGV2aWNlIHJlc2V0IGlzIGNvbXBsZXRlZC5cbiAqIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGUgY29ycmVzcG9uZGluZyBzaW1jdGwgc3ViY29tbWFuZCBjb21tYW5kXG4gKiAgICAgICAgICAgICAgICAgcmV0dXJucyBub24temVybyByZXR1cm4gY29kZS5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gZXJhc2VEZXZpY2UgKHVkaWQsIHRpbWVvdXQgPSAxMDAwKSB7XG4gIGxldCBsb29wRm4gPSBhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgc2ltRXhlYygnZXJhc2UnLCAxMDAwMCwgW3VkaWRdKTtcbiAgfTtcbiAgLy8gcmV0cnkgZXJhc2Ugd2l0aCBhIHNsZWVwIGluIGJldHdlZW4gYmVjYXVzZSBpdCdzIGZsYWtleVxuICBsZXQgcmV0cmllcyA9IHBhcnNlSW50KHRpbWVvdXQgLyAyMDAsIDEwKTtcbiAgYXdhaXQgcmV0cnlJbnRlcnZhbChyZXRyaWVzLCAyMDAsIGxvb3BGbik7XG59XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gRGV2aWNlSW5mb1xuICogQHByb3BlcnR5IHtzdHJpbmd9IG5hbWUgLSBUaGUgZGV2aWNlIG5hbWUuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gdWRpZCAtIFRoZSBkZXZpY2UgVURJRC5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBzdGF0ZSAtIFRoZSBjdXJyZW50IFNpbXVsYXRvciBzdGF0ZSwgZm9yIGV4YW1wbGUgJ2Jvb3RlZCcgb3IgJ3NodXRkb3duJy5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBzZGsgLSBUaGUgU0RLIHZlcnNpb24sIGZvciBleGFtcGxlICcxMC4zJy5cbiAqL1xuXG4vKipcbiAqIFBhcnNlIHRoZSBsaXN0IG9mIGV4aXN0aW5nIFNpbXVsYXRvciBkZXZpY2VzIHRvIHJlcHJlc2VudFxuICogaXQgYXMgY29udmVuaWVudCBtYXBwaW5nLlxuICpcbiAqIEBwYXJhbSB7P3N0cmluZ30gcGxhdGZvcm0gW2lPU10gLSBUaGUgcGxhdGZvcm0gbmFtZSwgZm9yIGV4YW1wbGUgJ3dhdGNoT1MnLlxuICogQHJldHVybiB7T2JqZWN0fSBUaGUgcmVzdWx0aW5nIG1hcHBpbmcuIEVhY2gga2V5IGlzIHBsYXRmb3JtIHZlcnNpb24sXG4gKiAgICAgICAgICAgICAgICAgIGZvciBleGFtcGxlICcxMC4zJyBhbmQgdGhlIGNvcnJlc3BvbmRpbmcgdmFsdWUgaXMgYW5cbiAqICAgICAgICAgICAgICAgICAgYXJyYXkgb2YgdGhlIG1hdGNoaW5nIHtAbGluayBEZXZpY2VJbmZvfSBpbnN0YW5jZXMuXG4gKiBAdGhyb3dzIHtFcnJvcn0gSWYgdGhlIGNvcnJlc3BvbmRpbmcgc2ltY3RsIHN1YmNvbW1hbmQgY29tbWFuZFxuICogICAgICAgICAgICAgICAgIHJldHVybnMgbm9uLXplcm8gcmV0dXJuIGNvZGUuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGdldERldmljZXNCeVBhcnNpbmcgKHBsYXRmb3JtID0gSU9TX1BMQVRGT1JNKSB7XG4gIC8vIGdldCB0aGUgbGlzdCBvZiBkZXZpY2VzXG4gIGNvbnN0IHtzdGRvdXR9ID0gYXdhaXQgc2ltRXhlYygnbGlzdCcsIDAsIFsnZGV2aWNlcyddKTtcblxuICAvLyBleHBlY3QgdG8gZ2V0IGEgbGlzdGluZyBsaWtlXG4gIC8vIC0tIGlPUyA4LjEgLS1cbiAgLy8gICAgIGlQaG9uZSA0cyAoM0NBNkU3REQtMjIwRS00NUU1LUI3MTYtMUU5OTJCM0E0MjlDKSAoU2h1dGRvd24pXG4gIC8vICAgICAuLi5cbiAgLy8gLS0gaU9TIDguMiAtLVxuICAvLyAgICAgaVBob25lIDRzIChBOTlGRkZDMy04RTE5LTREQ0YtQjU4NS03RDlENDZCNEMxNkUpIChTaHV0ZG93bilcbiAgLy8gICAgIC4uLlxuICAvLyBzbywgZ2V0IHRoZSBgLS0gaU9TIFguWCAtLWAgbGluZSB0byBmaW5kIHRoZSBzZGsgKFguWClcbiAgLy8gYW5kIHRoZSByZXN0IG9mIHRoZSBsaXN0aW5nIGluIG9yZGVyIHRvIGxhdGVyIGZpbmQgdGhlIGRldmljZXNcbiAgY29uc3QgZGV2aWNlU2VjdGlvblJlID0gbmV3IFJlZ0V4cChgXFxcXC1cXFxcLVxcXFxzKyR7Xy5lc2NhcGVSZWdFeHAocGxhdGZvcm0pfVxcXFxzKyhcXFxcUyspXFxcXHMrXFxcXC1cXFxcLShcXFxcblxcXFxzezR9LispKmAsICdtZ2knKTtcbiAgY29uc3QgbWF0Y2hlcyA9IFtdO1xuICBsZXQgbWF0Y2g7XG4gIC8vIG1ha2UgYW4gZW50cnkgZm9yIGVhY2ggc2RrIHZlcnNpb25cbiAgd2hpbGUgKChtYXRjaCA9IGRldmljZVNlY3Rpb25SZS5leGVjKHN0ZG91dCkpKSB7XG4gICAgbWF0Y2hlcy5wdXNoKG1hdGNoKTtcbiAgfVxuICBpZiAoXy5pc0VtcHR5KG1hdGNoZXMpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdDb3VsZCBub3QgZmluZCBkZXZpY2Ugc2VjdGlvbicpO1xuICB9XG5cbiAgY29uc3QgbGluZVJlID0gLyhbXlxcc10uKykgXFwoKFxcdystLitcXHcrKVxcKSBcXCgoXFx3K1xccz9cXHcrKVxcKS87IC8vIGh0dHBzOi8vcmVnZXgxMDEuY29tL3IvbEc3bUs2LzNcbiAgLy8gZ2V0IGFsbCB0aGUgZGV2aWNlcyBmb3IgZWFjaCBzZGtcbiAgY29uc3QgZGV2aWNlcyA9IHt9O1xuICBmb3IgKG1hdGNoIG9mIG1hdGNoZXMpIHtcbiAgICBjb25zdCBzZGsgPSBtYXRjaFsxXTtcbiAgICBkZXZpY2VzW3Nka10gPSBbXTtcbiAgICAvLyBzcGxpdCB0aGUgZnVsbCBtYXRjaCBpbnRvIGxpbmVzIGFuZCByZW1vdmUgdGhlIGZpcnN0XG4gICAgZm9yIChjb25zdCBsaW5lIG9mIG1hdGNoWzBdLnNwbGl0KCdcXG4nKS5zbGljZSgxKSkge1xuICAgICAgLy8gYSBsaW5lIGlzIHNvbWV0aGluZyBsaWtlXG4gICAgICAvLyAgICBpUGhvbmUgNHMgKEE5OUZGRkMzLThFMTktNERDRi1CNTg1LTdEOUQ0NkI0QzE2RSkgKFNodXRkb3duKVxuICAgICAgLy8gcmV0cmlldmU6XG4gICAgICAvLyAgIGlQaG9uZSA0c1xuICAgICAgLy8gICBBOTlGRkZDMy04RTE5LTREQ0YtQjU4NS03RDlENDZCNEMxNkVcbiAgICAgIC8vICAgU2h1dGRvd25cbiAgICAgIGNvbnN0IGxpbmVNYXRjaCA9IGxpbmVSZS5leGVjKGxpbmUpO1xuICAgICAgaWYgKCFsaW5lTWF0Y2gpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDb3VsZCBub3QgbWF0Y2ggbGluZTogJHtsaW5lfWApO1xuICAgICAgfVxuICAgICAgLy8gc2F2ZSB0aGUgd2hvbGUgdGhpbmcgYXMgYWIgb2JqZWN0IGluIHRoZSBsaXN0IGZvciB0aGlzIHNka1xuICAgICAgZGV2aWNlc1tzZGtdLnB1c2goe1xuICAgICAgICBuYW1lOiBsaW5lTWF0Y2hbMV0sXG4gICAgICAgIHVkaWQ6IGxpbmVNYXRjaFsyXSxcbiAgICAgICAgc3RhdGU6IGxpbmVNYXRjaFszXSxcbiAgICAgICAgc2RrLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBkZXZpY2VzO1xufVxuXG4vKipcbiAqIFBhcnNlIHRoZSBsaXN0IG9mIGV4aXN0aW5nIFNpbXVsYXRvciBkZXZpY2VzIHRvIHJlcHJlc2VudFxuICogaXQgYXMgY29udmVuaWVudCBtYXBwaW5nIGZvciB0aGUgcGFydGljdWxhciBwbGF0Zm9ybSB2ZXJzaW9uLlxuICpcbiAqIEBwYXJhbSB7P3N0cmluZ30gZm9yU2RrIC0gVGhlIHNkayB2ZXJzaW9uLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICBmb3Igd2hpY2ggdGhlIGRldmljZXMgbGlzdCBzaG91bGQgYmUgcGFyc2VkLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgZXhhbXBsZSAnMTAuMycuXG4gKiBAcGFyYW0gez9zdHJpbmd9IHBsYXRmb3JtIFtpT1NdIC0gVGhlIHBsYXRmb3JtIG5hbWUsIGZvciBleGFtcGxlICd3YXRjaE9TJy5cbiAqIEByZXR1cm4ge09iamVjdHxBcnJheTxEZXZpY2VJbmZvPn0gSWYgX2ZvclNka18gaXMgc2V0IHRoZW4gdGhlIGxpc3RcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2YgZGV2aWNlcyBmb3IgdGhlIHBhcnRpY3VsYXIgcGxhdGZvcm0gdmVyc2lvbi5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgT3RoZXJ3aXNlIHRoZSBzYW1lIHJlc3VsdCBhcyBmb3Ige0BsaW5rIGdldERldmljZXNCeVBhcnNpbmd9XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uLlxuICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBjb3JyZXNwb25kaW5nIHNpbWN0bCBzdWJjb21tYW5kIGNvbW1hbmRcbiAqICAgICAgICAgICAgICAgICByZXR1cm5zIG5vbi16ZXJvIHJldHVybiBjb2RlIG9yIGlmIG5vIG1hdGNoaW5nXG4gKiAgICAgICAgICAgICAgICAgcGxhdGZvcm0gdmVyc2lvbiBpcyBmb3VuZCBpbiB0aGUgc3lzdGVtLlxuICovXG5hc3luYyBmdW5jdGlvbiBnZXREZXZpY2VzIChmb3JTZGsgPSBudWxsLCBwbGF0Zm9ybSA9IElPU19QTEFURk9STSkge1xuICBsZXQgZGV2aWNlcyA9IHt9O1xuICB0cnkge1xuICAgIGNvbnN0IHtzdGRvdXR9ID0gYXdhaXQgc2ltRXhlYygnbGlzdCcsIDAsIFsnZGV2aWNlcycsICctaiddKTtcbiAgICAvKiBKU09OIHNob3VsZCBiZVxuICAgICAqIHtcbiAgICAgKiAgIFwiZGV2aWNlc1wiIDoge1xuICAgICAqICAgICBcImlPUyA8c2RrPlwiIDogW1xuICAgICAqICAgICAgIHtcbiAgICAgKiAgICAgICAgIFwic3RhdGVcIiA6IFwiQm9vdGVkXCIsXG4gICAgICogICAgICAgICBcImF2YWlsYWJpbGl0eVwiIDogXCIoYXZhaWxhYmxlKVwiLFxuICAgICAqICAgICAgICAgXCJuYW1lXCIgOiBcImlQaG9uZSA2XCIsXG4gICAgICogICAgICAgICBcInVkaWRcIiA6IFwiNzVFMzQxNDAtMThFOC00RDFBLTlGNDUtQUFDNzM1REY3NURGXCJcbiAgICAgKiAgICAgICB9XG4gICAgICogICAgIF1cbiAgICAgKiAgIH1cbiAgICAgKiB9XG4gICAgICovXG4gICAgY29uc3QgdmVyc2lvbk1hdGNoUmUgPSBuZXcgUmVnRXhwKGBeJHtfLmVzY2FwZVJlZ0V4cChwbGF0Zm9ybSl9XFxcXHMrKFxcXFxTKylgLCAnaScpO1xuICAgIGZvciAoY29uc3QgW3Nka05hbWUsIGVudHJpZXNdIG9mIF8udG9QYWlycyhKU09OLnBhcnNlKHN0ZG91dCkuZGV2aWNlcykpIHtcbiAgICAgIGNvbnN0IHZlcnNpb25NYXRjaCA9IHZlcnNpb25NYXRjaFJlLm1hdGNoKHNka05hbWUpO1xuICAgICAgaWYgKCF2ZXJzaW9uTWF0Y2gpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBkZXZpY2VzW3ZlcnNpb25NYXRjaFsxXV0gPSBlbnRyaWVzLm1hcCgoZWwpID0+IHtcbiAgICAgICAgZGVsZXRlIGVsLmF2YWlsYWJpbGl0eTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5lbCxcbiAgICAgICAgICBzZGs6IHZlcnNpb25NYXRjaFsxXVxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBsb2cuZGVidWcoYFVuYWJsZSB0byBnZXQgSlNPTiBkZXZpY2UgbGlzdDogJHtlcnIubWVzc2FnZX1gKTtcbiAgICBsb2cuZGVidWcoJ0ZhbGxpbmcgYmFjayB0byBtYW51YWwgcGFyc2luZycpO1xuICAgIGRldmljZXMgPSBhd2FpdCBnZXREZXZpY2VzQnlQYXJzaW5nKHBsYXRmb3JtKTtcbiAgfVxuXG4gIGlmICghZm9yU2RrKSB7XG4gICAgcmV0dXJuIGRldmljZXM7XG4gIH1cbiAgLy8gaWYgYSBgZm9yU2RrYCB3YXMgcGFzc2VkIGluLCByZXR1cm4gb25seSB0aGUgY29ycmVzcG9uZGluZyBsaXN0XG4gIGlmIChkZXZpY2VzW2ZvclNka10pIHtcbiAgICByZXR1cm4gZGV2aWNlc1tmb3JTZGtdO1xuICB9XG5cbiAgbGV0IGVyck1zZyA9IGAnJHtmb3JTZGt9JyBkb2VzIG5vdCBleGlzdCBpbiB0aGUgbGlzdCBvZiBzaW1jdGwgU0RLcy5gO1xuICBjb25zdCBhdmFpbGFibGVTREtzID0gXy5rZXlzKGRldmljZXMpO1xuICBlcnJNc2cgKz0gYXZhaWxhYmxlU0RLcy5sZW5ndGhcbiAgICA/IGAgT25seSB0aGUgZm9sbG93aW5nIFNpbXVsYXRvciBTREsgdmVyc2lvbnMgYXJlIGF2YWlsYWJsZSBvbiB5b3VyIHN5c3RlbTogJHthdmFpbGFibGVTREtzLmpvaW4oJywgJyl9YFxuICAgIDogYCBObyBTaW11bGF0b3IgU0RLIHZlcnNpb25zIGFyZSBhdmFpbGFibGUgb24geW91ciBzeXN0ZW0uIFBsZWFzZSBpbnN0YWxsIHNvbWUgdmlhIFhjb2RlIHByZWZlcmVuY2VzLmA7XG4gIHRocm93IG5ldyBFcnJvcihlcnJNc2cpO1xufVxuXG4vKipcbiAqIEdldCB0aGUgcnVudGltZSBmb3IgdGhlIHBhcnRpY3VsYXIgcGxhdGZvcm0gdmVyc2lvbi5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gcGxhdGZvcm1WZXJzaW9uIC0gVGhlIHBsYXRmb3JtIHZlcnNpb24gbmFtZSxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgZXhhbXBsZSAnMTAuMycuXG4gKiBAcGFyYW0gez9zdHJpbmd9IHBsYXRmb3JtIFtpT1NdIC0gVGhlIHBsYXRmb3JtIG5hbWUsIGZvciBleGFtcGxlICd3YXRjaE9TJy5cbiAqIEByZXR1cm4ge3N0cmluZ30gVGhlIGNvcnJlc3BvbmRpbmcgcnVudGltZSBuYW1lIGZvciB0aGUgZ2l2ZW5cbiAqICAgICAgICAgICAgICAgICAgcGxhdGZvcm0gdmVyc2lvbi5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gZ2V0UnVudGltZUZvclBsYXRmb3JtVmVyc2lvbiAocGxhdGZvcm1WZXJzaW9uLCBwbGF0Zm9ybSA9ICdpT1MnKSB7XG4gIHRyeSB7XG4gICAgY29uc3Qge3N0ZG91dH0gPSBhd2FpdCBzaW1FeGVjKCdsaXN0JywgMCwgWydydW50aW1lcyddKTtcbiAgICAvLyBodHRwczovL3JlZ2V4MTAxLmNvbS9yL1V5a2pRWi8xXG4gICAgY29uc3QgcnVudGltZVJlID0gbmV3IFJlZ0V4cChgJHtfLmVzY2FwZVJlZ0V4cChwbGF0Zm9ybSl9XFxcXHMrKFxcXFxkK1xcXFwuXFxcXGQrKVxcXFxzK1xcXFwoKFxcXFxkK1xcXFwuXFxcXGQrXFxcXC4qXFxcXGQqKWAsICdpJyk7XG4gICAgZm9yIChjb25zdCBsaW5lIG9mIHN0ZG91dC5zcGxpdCgnXFxuJykpIHtcbiAgICAgIGNvbnN0IG1hdGNoID0gcnVudGltZVJlLmV4ZWMobGluZSk7XG4gICAgICBpZiAobWF0Y2ggJiYgbWF0Y2hbMV0gPT09IHBsYXRmb3JtVmVyc2lvbikge1xuICAgICAgICByZXR1cm4gbWF0Y2hbMl07XG4gICAgICB9XG4gICAgfVxuICB9IGNhdGNoIChpZ24pIHt9XG5cbiAgLy8gaWYgbm90aGluZyB3YXMgZm91bmQsIHBhc3MgcGxhdGZvcm0gdmVyc2lvbiBiYWNrXG4gIHJldHVybiBwbGF0Zm9ybVZlcnNpb247XG59XG5cbi8qKlxuICogR2V0cyBiYXNlNjQgc2NyZWVuc2hvdCBmb3IgZGV2aWNlICh4Y29kZSA+PSA4LjEgb25seSkuXG4gKiBJdCBpcyByZXF1aXJlZCB0aGF0IFNpbXVsYXRvciBpcyBpbiBfYm9vdGVkXyBzdGF0ZS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdWRpZCAtIFRoZSBVRElEIG9mIGFuIGV4aXN0aW5nIFNpbXVsYXRvci5cbiAqIEByZXR1cm4ge3N0cmluZ30gQmFzZTY0LWVuY29kZWQgU2ltdWxhdG9yIHNjcmVlbnNob3QuXG4gKiBAdGhyb3dzIHtFcnJvcn0gSWYgdGhlIGNvcnJlc3BvbmRpbmcgc2ltY3RsIHN1YmNvbW1hbmQgY29tbWFuZFxuICogICAgICAgICAgICAgICAgIHJldHVybnMgbm9uLXplcm8gcmV0dXJuIGNvZGUuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGdldFNjcmVlbnNob3QgKHVkaWQpIHtcbiAgbGV0IHBhdGhUb1NjcmVlbnNob3RQbmcgPSBhd2FpdCB0ZW1wRGlyLnBhdGgoe3ByZWZpeDogYHNjcmVlbnNob3QtJHt1ZGlkfWAsIHN1ZmZpeDogJy5wbmcnfSk7XG4gIGF3YWl0IHNpbUV4ZWMoJ2lvJywgMCwgW3VkaWQsICdzY3JlZW5zaG90JywgcGF0aFRvU2NyZWVuc2hvdFBuZ10pO1xuICBsZXQgc2NyZWVuc2hvdEltZyA9IGF3YWl0IGZzLnJlYWRGaWxlKHBhdGhUb1NjcmVlbnNob3RQbmcpO1xuICBhd2FpdCBmcy5yaW1yYWYocGF0aFRvU2NyZWVuc2hvdFBuZyk7XG4gIHJldHVybiBzY3JlZW5zaG90SW1nLnRvU3RyaW5nKCdiYXNlNjQnKTtcbn1cblxuLyoqXG4gKiBTZXQgdGhlIGNvbnRlbnQgb2YgU2ltdWxhdG9yIHBhc3RlYm9hcmQgKHhjb2RlID49IDguMSBvbmx5KS5cbiAqIEl0IGlzIHJlcXVpcmVkIHRoYXQgU2ltdWxhdG9yIGlzIGluIF9ib290ZWRfIHN0YXRlLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB1ZGlkIC0gRGV2aWNlIFVESUQuXG4gKiBAcGFyYW0ge3N0cmluZ30gY29udGVudCAtIFRoZSBhY3R1YWwgc3RyaW5nIGNvbnRlbnQgdG8gYmUgc2V0LlxuICogQHBhcmFtIHtzdHJpbmd9IGVuY29kaW5nIFsndXRmLTgnXSAtIFRoZSBlbmNvZGluZyBvZiB0aGUgZ2l2ZW4gcGFzdGVib2FyZCBjb250ZW50LlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFVURi04IGJ5IGRlZmF1bHQuXG4gKiBAdGhyb3dzIHtFcnJvcn0gSWYgdGhlIGNvcnJlc3BvbmRpbmcgc2ltY3RsIHN1YmNvbW1hbmQgY29tbWFuZFxuICogICAgICAgICAgICAgICAgIHJldHVybnMgbm9uLXplcm8gcmV0dXJuIGNvZGUuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHNldFBhc3RlYm9hcmQgKHVkaWQsIGNvbnRlbnQsIGVuY29kaW5nID0gJ3V0Zi04Jykge1xuICBjb25zdCBwYkNvcHlTdWJwcm9jZXNzID0gbmV3IFN1YlByb2Nlc3MoJ3hjcnVuJywgWydzaW1jdGwnLCAncGJjb3B5JywgdWRpZF0pO1xuICBhd2FpdCBwYkNvcHlTdWJwcm9jZXNzLnN0YXJ0KDApO1xuICBjb25zdCBleGl0Q29kZVZlcmlmaWVyID0gcGJDb3B5U3VicHJvY2Vzcy5qb2luKCk7XG4gIGNvbnN0IHN0ZGluID0gcGJDb3B5U3VicHJvY2Vzcy5wcm9jLnN0ZGluO1xuICBzdGRpbi5zZXRFbmNvZGluZyhlbmNvZGluZyk7XG4gIHN0ZGluLndyaXRlKGNvbnRlbnQpO1xuICBzdGRpbi5lbmQoKTtcbiAgYXdhaXQgZXhpdENvZGVWZXJpZmllcjtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIGNvbnRlbnQgb2YgU2ltdWxhdG9yIHBhc3RlYm9hcmQgKHhjb2RlID49IDguMSBvbmx5KS5cbiAqIEl0IGlzIHJlcXVpcmVkIHRoYXQgU2ltdWxhdG9yIGlzIGluIF9ib290ZWRfIHN0YXRlLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB1ZGlkIC0gRGV2aWNlIFVESUQuXG4gKiBAcGFyYW0ge3N0cmluZ30gZW5jb2RpbmcgWyd1dGYtOCddIC0gVGhlIGVuY29kaW5nIG9mIHRoZSByZXR1cm5lZCBwYXN0ZWJvYXJkIGNvbnRlbnQuXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVVRGLTggYnkgZGVmYXVsdC5cbiAqIEByZXR1cm4ge3N0cmluZ30gQ3VycmVudCBjb250ZW50IG9mIFNpbXVsYXRvciBwYXN0ZWJvYXJkIG9yIGFuIGVtcHR5IHN0cmluZy5cbiAqIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGUgY29ycmVzcG9uZGluZyBzaW1jdGwgc3ViY29tbWFuZCBjb21tYW5kXG4gKiAgICAgICAgICAgICAgICAgcmV0dXJucyBub24temVybyByZXR1cm4gY29kZS5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gZ2V0UGFzdGVib2FyZCAodWRpZCwgZW5jb2RpbmcgPSAndXRmLTgnKSB7XG4gIGNvbnN0IGFyZ3MgPSBbJ3NpbWN0bCcsICdwYnBhc3RlJywgdWRpZF07XG4gIHRyeSB7XG4gICAgY29uc3Qge3N0ZG91dH0gPSBhd2FpdCBleGVjKCd4Y3J1bicsIGFyZ3MsIHt0aW1lb3V0OiAwLCBlbmNvZGluZ30pO1xuICAgIHJldHVybiBzdGRvdXQ7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBpZiAoZS5zdGRlcnIpIHtcbiAgICAgIGxvZy5lcnJvckFuZFRocm93KGBFcnJvciBydW5uaW5nICd4Y3J1biAke2FyZ3Muam9pbignICcpfSc6ICR7ZS5zdGRlcnIudHJpbSgpfWApO1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2cuZXJyb3JBbmRUaHJvdyhlKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBHZXQgdGhlIGxpc3Qgb2YgZGV2aWNlIHR5cGVzIGF2YWlsYWJsZSBpbiB0aGUgY3VycmVudCBYY29kZSBpbnN0YWxsYXRpb25cbiAqXG4gKiBAcmV0dXJuIHtBcnJheTxzdHJpbmc+fSBMaXN0IG9mIHRoZSB0eXBlcyBvZiBkZXZpY2VzIGF2YWlsYWJsZVxuICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBjb3JyZXNwb25kaW5nIHNpbWN0bCBjb21tYW5kIGZhaWxzXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGdldERldmljZVR5cGVzICgpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7c3Rkb3V0fSA9IGF3YWl0IHNpbUV4ZWMoJ2xpc3QnLCAwLCBbJ2RldmljZXR5cGVzJywgJy1qJ10pO1xuICAgIC8qXG4gICAgICogSlNPTiB3aWxsIGJlIGxpa2U6XG4gICAgICogICB7XG4gICAgICogICAgIFwiZGV2aWNldHlwZXNcIiA6IFtcbiAgICAgKiAgICAgICB7XG4gICAgICogICAgICAgICBcIm5hbWVcIiA6IFwiaVBob25lIDRzXCIsXG4gICAgICogICAgICAgICBcImlkZW50aWZpZXJcIiA6IFwiY29tLmFwcGxlLkNvcmVTaW11bGF0b3IuU2ltRGV2aWNlVHlwZS5pUGhvbmUtNHNcIlxuICAgICAqICAgICAgIH0sXG4gICAgICogICAgICAgLi4uXG4gICAgICogICB9XG4gICAgICovXG4gICAgY29uc3QgZGV2aWNlVHlwZXMgPSBKU09OLnBhcnNlKHN0ZG91dC50cmltKCkpO1xuICAgIHJldHVybiBkZXZpY2VUeXBlcy5kZXZpY2V0eXBlcy5tYXAoKHR5cGUpID0+IHR5cGUubmFtZSk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGxldCBtc2cgPSBgVW5hYmxlIHRvIGdldCBsaXN0IG9mIGRldmljZSB0eXBlczogJHtlcnIubWVzc2FnZX1gO1xuICAgIGlmIChlcnIuc3RkZXJyKSB7XG4gICAgICBtc2cgPSBgJHttc2d9LiBTdGRlcnI6ICR7ZXJyLnN0ZGVycn1gO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IobXNnKTtcbiAgfVxufVxuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEJvb3RNb25pdG9yT3B0aW9uc1xuICogQHByb3BlcnR5IHs/bnVtYmVyfSB0aW1lb3V0IFsyNDAwMDBdIC0gU2ltdWxhdG9yIGJvb3RpbmcgdGltZW91dCBpbiBtcy5cbiAqIEBwcm9wZXJ0eSB7P0Z1bmN0aW9ufSBvbldhaXRpbmdEYXRhTWlncmF0aW9uIC0gVGhpcyBldmVudCBpcyBmaXJlZCB3aGVuIGRhdGEgbWlncmF0aW9uIHN0YWdlIHN0YXJ0cy5cbiAqIEBwcm9wZXJ0eSB7P0Z1bmN0aW9ufSBvbldhaXRpbmdTeXN0ZW1BcHAgLSBUaGlzIGV2ZW50IGlzIGZpcmVkIHdoZW4gc3lzdGVtIGFwcCB3YWl0IHN0YWdlIHN0YXJ0cy5cbiAqIEBwcm9wZXJ0eSB7P0Z1bmN0aW9ufSBvbkZpbmlzaGVkIC0gVGhpcyBldmVudCBpcyBmaXJlZCB3aGVuIFNpbXVsYXRvciBpcyBmdWxseSBib290ZWQuXG4gKiBAcHJvcGVydHkgez9GdW5jdGlvbn0gb25FcnJvciAtIFRoaXMgZXZlbnQgaXMgZmlyZWQgd2hlbiB0aGVyZSB3YXMgYW4gZXJyb3Igd2hpbGUgbW9uaXRvcmluZyB0aGUgYm9vdGluZyBwcm9jZXNzXG4gKiBvciB3aGVuIHRoZSB0aW1lb3V0IGhhcyBleHBpcmVkLlxuICovXG5cbi8qKlxuICogU3RhcnQgbW9uaXRvcmluZyBmb3IgYm9vdCBzdGF0dXMgb2YgdGhlIHBhcnRpY3VsYXIgU2ltdWxhdG9yLlxuICogSWYgb25GaW5pc2hlZCBwcm9wZXJ0eSBpcyBub3Qgc2V0IHRoZW4gdGhlIG1ldGhvZCB3aWxsIGJsb2NrXG4gKiB1bnRpbCBTaW11bGF0b3IgYm9vdGluZyBpcyBjb21wbGV0ZWQuXG4gKiBUaGUgbWV0aG9kIGlzIG9ubHkgYXZhaWxhYmxlIHNpbmNlIFhjb2RlOC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdWRpZCAtIERldmljZSBVRElELlxuICogQHBhcmFtIHs/Qm9vdE1vbml0b3JPcHRpb25zfSBvcHRzIC0gTW9uaXRvcmluZyBvcHRpb25zLlxuICogQHJldHVybnMge1N1YlByb2Nlc3N9IFRoZSBpbnN0YW5jZSBvZiB0aGUgY29ycmVzcG9uZGluZyBtb25pdG9yaW5nIHByb2Nlc3MuXG4gKiBAdGhyb3dzIHtFcnJvcn0gSWYgdGhlIFNpbXVsYXRvciBmYWlscyB0byBmaW5pc2ggYm9vdGluZyB3aXRoaW4gdGhlIGdpdmVuIHRpbWVvdXQgYW5kIG9uRmluaXNoZWRcbiAqIHByb3BlcnR5IGlzIG5vdCBzZXQuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHN0YXJ0Qm9vdE1vbml0b3IgKHVkaWQsIG9wdHMgPSB7fSkge1xuICBjb25zdCB7XG4gICAgdGltZW91dCA9IDI0MDAwMCxcbiAgICBvbldhaXRpbmdEYXRhTWlncmF0aW9uLFxuICAgIG9uV2FpdGluZ1N5c3RlbUFwcCxcbiAgICBvbkZpbmlzaGVkLFxuICAgIG9uRXJyb3IsXG4gIH0gPSBvcHRzO1xuXG4gIGxldCBzdGF0dXMgPSAnJztcbiAgbGV0IGlzQm9vdGluZ0ZpbmlzaGVkID0gZmFsc2U7XG4gIGxldCBlcnJvciA9IG51bGw7XG4gIGxldCB0aW1lb3V0SGFuZGxlciA9IG51bGw7XG4gIGNvbnN0IGJvb3RNb25pdG9yID0gYXdhaXQgc2ltU3ViUHJvY2VzcygnYm9vdHN0YXR1cycsIDAsIFt1ZGlkXSk7XG4gIGJvb3RNb25pdG9yLm9uKCdvdXRwdXQnLCAoc3Rkb3V0LCBzdGRlcnIpID0+IHtcbiAgICBzdGF0dXMgKz0gc3Rkb3V0IHx8IHN0ZGVycjtcbiAgICBpZiAoc3Rkb3V0KSB7XG4gICAgICBpZiAoc3Rkb3V0LmluY2x1ZGVzKCdXYWl0aW5nIG9uIERhdGEgTWlncmF0aW9uJykgJiYgb25XYWl0aW5nRGF0YU1pZ3JhdGlvbikge1xuICAgICAgICBvbldhaXRpbmdEYXRhTWlncmF0aW9uKCk7XG4gICAgICB9IGVsc2UgaWYgKHN0ZG91dC5pbmNsdWRlcygnV2FpdGluZyBvbiBTeXN0ZW0gQXBwJykgJiYgb25XYWl0aW5nU3lzdGVtQXBwKSB7XG4gICAgICAgIG9uV2FpdGluZ1N5c3RlbUFwcCgpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIGJvb3RNb25pdG9yLm9uKCdleGl0JywgKGNvZGUsIHNpZ25hbCkgPT4ge1xuICAgIGlmICh0aW1lb3V0SGFuZGxlcikge1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRIYW5kbGVyKTtcbiAgICB9XG4gICAgaWYgKGNvZGUgPT09IDApIHtcbiAgICAgIGlmIChvbkZpbmlzaGVkKSB7XG4gICAgICAgIG9uRmluaXNoZWQoKTtcbiAgICAgIH1cbiAgICAgIGlzQm9vdGluZ0ZpbmlzaGVkID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RhdHVzID0gc3RhdHVzIHx8IHNpZ25hbDtcbiAgICAgIGVycm9yID0gbmV3IEVycm9yKHN0YXR1cyk7XG4gICAgICBpZiAob25FcnJvcikge1xuICAgICAgICBvbkVycm9yKGVycm9yKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICBhd2FpdCBib290TW9uaXRvci5zdGFydCgwKTtcbiAgY29uc3Qgc3RvcE1vbml0b3IgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKGJvb3RNb25pdG9yLmlzUnVubmluZykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgYm9vdE1vbml0b3Iuc3RvcCgpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBsb2cud2FybihlLm1lc3NhZ2UpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgY29uc3QgdGltZVN0YXJ0ZWQgPSBwcm9jZXNzLmhydGltZSgpO1xuICBpZiAob25GaW5pc2hlZCkge1xuICAgIHRpbWVvdXRIYW5kbGVyID0gc2V0VGltZW91dChzdG9wTW9uaXRvciwgdGltZW91dCk7XG4gIH0gZWxzZSB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IHdhaXRGb3JDb25kaXRpb24oKCkgPT4ge1xuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXNCb290aW5nRmluaXNoZWQ7XG4gICAgICB9LCB7d2FpdE1zOiB0aW1lb3V0LCBpbnRlcnZhbE1zOiA1MDB9KTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGF3YWl0IHN0b3BNb25pdG9yKCk7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFRoZSBzaW11bGF0b3IgJHt1ZGlkfSBoYXMgZmFpbGVkIHRvIGZpbmlzaCBib290aW5nIGFmdGVyICR7cHJvY2Vzcy5ocnRpbWUodGltZVN0YXJ0ZWQpWzBdfXMuIGAgK1xuICAgICAgICBgT3JpZ2luYWwgc3RhdHVzOiAke3N0YXR1c31gKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGJvb3RNb25pdG9yO1xufVxuXG5cbmV4cG9ydCB7XG4gIGluc3RhbGxBcHAsIHJlbW92ZUFwcCwgbGF1bmNoLCBzcGF3biwgc3Bhd25TdWJQcm9jZXNzLCBvcGVuVXJsLCB0ZXJtaW5hdGUsXG4gIHNodXRkb3duLCBjcmVhdGVEZXZpY2UsIGdldEFwcENvbnRhaW5lciwgZ2V0U2NyZWVuc2hvdCwgZGVsZXRlRGV2aWNlLFxuICBlcmFzZURldmljZSwgZ2V0RGV2aWNlcywgZ2V0UnVudGltZUZvclBsYXRmb3JtVmVyc2lvbiwgYm9vdERldmljZSxcbiAgc2V0UGFzdGVib2FyZCwgZ2V0UGFzdGVib2FyZCwgYWRkTWVkaWEsIGFwcEluZm8sIGdldERldmljZVR5cGVzLFxuICBzdGFydEJvb3RNb25pdG9yLFxufTtcbiJdLCJmaWxlIjoibGliL3NpbWN0bC5qcyIsInNvdXJjZVJvb3QiOiIuLi8uLiJ9
